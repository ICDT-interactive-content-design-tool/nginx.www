"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8598],{8598:(wn,V,d)=>{d.r(V),d.d(V,{ViewerPageModule:()=>xn});var M=d(6814),E=d(6223),g=d(3536),k=d(6916),_=d(5861),Z=d(4981),T=d(4459),F=d(7090),A=d(8530),b=d(70),S=d(3377),I=d(9942),J=d(5811),q=d(2695),z=d(9691),B=d(8186),G=d(6676),y=d.n(G),L=d(8291),K=d(1862),j=d(553),n=d(5879),R=d(6593),W=d(1815),X=d(2820),nn=d(3999);function en(t,r){if(1&t){const a=n.EpF();n.TgZ(0,"div")(1,"ion-button",44),n.NdJ("click",function(e){n.CHM(a);const i=n.oxw();return n.KtG(i.presentModalBoardShare(e))}),n._UZ(2,"ion-icon",45),n.TgZ(3,"ion-label"),n._uU(4),n.ALo(5,"translate"),n.qZA()()()}2&t&&(n.xp6(4),n.Oqu(n.lcZ(5,1,"Share")))}function tn(t,r){if(1&t){const a=n.EpF();n.ynx(0),n.TgZ(1,"div",46)(2,"ion-button",47),n.NdJ("click",function(){n.CHM(a);const e=n.oxw();return n.KtG(e.pageBack())}),n._UZ(3,"ion-img",48),n.qZA(),n.TgZ(4,"span"),n._uU(5),n.qZA(),n.TgZ(6,"ion-button",47),n.NdJ("click",function(){n.CHM(a);const e=n.oxw();return n.KtG(e.pageNext())}),n._UZ(7,"ion-img",49),n.qZA()(),n.BQk()}if(2&t){const a=n.oxw();n.xp6(2),n.Q6J("disabled",a.slideIdx<1),n.xp6(3),n.AsE("",a.slideIdx+1,"/",a.slideTotal,""),n.xp6(1),n.Q6J("disabled",a.slideIdx>=a.slideTotal-1)}}function on(t,r){if(1&t){const a=n.EpF();n.ynx(0),n.TgZ(1,"div")(2,"ion-button",50),n.NdJ("click",function(){n.CHM(a);const e=n.oxw();return n.KtG(e.renderSlide())}),n._UZ(3,"ion-img",51),n.qZA()(),n.BQk()}}function ln(t,r){if(1&t){const a=n.EpF();n.ynx(0),n.TgZ(1,"ion-button",50),n.NdJ("click",function(){n.CHM(a);const e=n.oxw(2);return n.KtG(e.offFullScreen())}),n._UZ(2,"ion-img",54),n.qZA(),n.BQk()}}function an(t,r){if(1&t){const a=n.EpF();n.ynx(0),n.TgZ(1,"ion-button",50),n.NdJ("click",function(){n.CHM(a);const e=n.oxw(2);return n.KtG(e.onFullScreen())}),n._UZ(2,"ion-img",55),n.qZA(),n.BQk()}}function rn(t,r){if(1&t&&(n.ynx(0),n.TgZ(1,"div"),n.ynx(2,52),n.YNc(3,ln,3,0,"ng-container",53),n.YNc(4,an,3,0,"ng-container",53),n.BQk(),n.qZA(),n.BQk()),2&t){const a=n.oxw();n.xp6(2),n.Q6J("ngSwitch",a.isfullscreen),n.xp6(1),n.Q6J("ngSwitchCase",!0),n.xp6(1),n.Q6J("ngSwitchCase",!1)}}function cn(t,r){if(1&t){const a=n.EpF();n.ynx(0),n.TgZ(1,"ion-chip",56),n.NdJ("click",function(e){const l=n.CHM(a).$implicit,c=n.oxw();return n.KtG(c.switchBoard(e,l.board_id))}),n._UZ(2,"ion-icon",57),n.TgZ(3,"ion-label"),n._uU(4),n.qZA()(),n.BQk()}if(2&t){const a=r.$implicit,o=n.oxw();n.xp6(1),n.Tol((null==o.board?null:o.board.board_id)==a.board_id?"active":""),n.xp6(1),n.Q6J("name",(null==o.board?null:o.board.board_id)==a.board_id?"ellipse":"ellipse-outline"),n.xp6(2),n.Oqu(a.board_title)}}function dn(t,r){if(1&t){const a=n.EpF();n.TgZ(0,"ion-infinite-scroll",58),n.NdJ("ionInfinite",function(e){n.CHM(a);const i=n.oxw();return n.KtG(i.onIonInfinite_BoardRelated(e))}),n._UZ(1,"ion-infinite-scroll-content"),n.qZA()}}function sn(t,r){if(1&t){const a=n.EpF();n.ynx(0),n.TgZ(1,"ion-chip",56),n.NdJ("click",function(e){const l=n.CHM(a).$implicit,c=n.oxw();return n.KtG(c.switchBoard(e,l.board_id))}),n._UZ(2,"ion-icon",57),n.TgZ(3,"ion-label"),n._uU(4),n.qZA()(),n.BQk()}if(2&t){const a=r.$implicit,o=n.oxw();n.xp6(1),n.Tol((null==o.board?null:o.board.board_id)==a.board_id?"active":""),n.xp6(1),n.Q6J("name",(null==o.board?null:o.board.board_id)==a.board_id?"ellipse":"ellipse-outline"),n.xp6(2),n.Oqu(a.board_title)}}function gn(t,r){1&t&&(n.TgZ(0,"div")(1,"div",59),n._uU(2),n.ALo(3,"translate"),n.qZA()()),2&t&&(n.xp6(2),n.Oqu(n.lcZ(3,1,"NoData")))}function un(t,r){if(1&t&&(n.TgZ(0,"div",60),n._UZ(1,"div",61),n.qZA()),2&t){const a=n.oxw();n.xp6(1),n.Q6J("innerHTML",null==a.board?null:a.board.board_content,n.oJD)}}const U=function(t){return{$implicit:t}};function mn(t,r){if(1&t&&n.GkF(0,62),2&t){const a=r.$implicit;n.oxw();const o=n.MAs(76);n.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",n.VKq(2,U,a))}}function _n(t,r){if(1&t){const a=n.EpF();n.TgZ(0,"ion-item-options",70)(1,"ion-item-option",71),n.NdJ("click",function(e){n.CHM(a);const i=n.oxw(2).$implicit,l=n.oxw();return n.KtG(l.editComment(e,i.comment_id))}),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"ion-item-option",72),n.NdJ("click",function(e){n.CHM(a);const i=n.oxw(2).$implicit,l=n.oxw();return n.KtG(l.deleteComment(e,i.comment_id))}),n._uU(5),n.ALo(6,"translate"),n.qZA()()}2&t&&(n.xp6(2),n.Oqu(n.lcZ(3,2,"Edit")),n.xp6(3),n.Oqu(n.lcZ(6,4,"Delete")))}function pn(t,r){if(1&t){const a=n.EpF();n.TgZ(0,"ion-item-sliding")(1,"ion-item")(2,"ion-thumbnail",64),n._UZ(3,"img",7),n.qZA(),n.TgZ(4,"ion-label")(5,"div",65),n._uU(6),n.TgZ(7,"small"),n._uU(8),n.qZA()(),n.TgZ(9,"div",66),n._uU(10),n.qZA(),n.TgZ(11,"div",67)(12,"small",68),n.NdJ("click",function(e){n.CHM(a);const i=n.oxw().$implicit,l=n.oxw();return n.KtG(l.replyComment(e,i.comment_id))}),n._uU(13),n.ALo(14,"translate"),n.qZA()()()(),n.YNc(15,_n,7,6,"ion-item-options",69),n.qZA()}if(2&t){const a=n.oxw().$implicit,o=n.oxw();n.xp6(3),n.Q6J("src",a.account_avatar?o.readfileuploadurl+a.account_avatar:"assets/image/user-avatar-default.png",n.LSH),n.xp6(3),n.Oqu(a.created_name),n.xp6(2),n.Oqu(o.formatDatetime(a.createddate)),n.xp6(2),n.Oqu(a.comment_content),n.xp6(3),n.Oqu(n.lcZ(14,6,"Reply")),n.xp6(2),n.Q6J("ngIf",(null==o.user?null:o.user.userid)==a.createdby)}}function vn(t,r){if(1&t){const a=n.EpF();n.TgZ(0,"ion-item",73)(1,"ion-input",74),n.NdJ("ionChange",function(e){n.CHM(a);const i=n.oxw(2);return n.KtG(i.changeComment2(e))})("keyup",function(e){n.CHM(a);const i=n.oxw(2);return n.KtG(i.keyupComment2(e))}),n.ALo(2,"translate"),n.qZA(),n.TgZ(3,"ion-button",75),n.NdJ("click",function(e){n.CHM(a);const i=n.oxw(2);return n.KtG(i.sendComment(e,i.comment2))}),n._UZ(4,"ion-icon",39),n.qZA()()}if(2&t){const a=n.oxw(2);let o;n.xp6(1),n.s9C("placeholder",n.lcZ(2,3,"EnterReply")),n.Q6J("autofocus",!0)("value",null!==(o=a.comment2.comment_content)&&void 0!==o?o:"")}}function fn(t,r){if(1&t&&n.GkF(0,62),2&t){const a=r.$implicit;n.oxw(2);const o=n.MAs(76);n.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",n.VKq(2,U,a))}}function hn(t,r){if(1&t&&(n.TgZ(0,"li"),n.YNc(1,pn,16,8,"ion-item-sliding",8),n.YNc(2,vn,5,5,"ion-item",63),n.TgZ(3,"ul"),n.YNc(4,fn,1,4,"ng-container",42),n.qZA()()),2&t){const a=r.$implicit,o=n.oxw();n.xp6(1),n.Q6J("ngIf",o.comment2.comment_id!=a.comment_id),n.xp6(1),n.Q6J("ngIf",o.comment2.comment_pid==a.comment_id),n.xp6(2),n.Q6J("ngForOf",o.filterComments(a.comment_id))}}const bn=[{path:"",component:(()=>{var t;class r{constructor(o,e,i,l,c,s,p){var f=this;this.titleService=o,this.metaService=e,this.router=i,this.activatedRoute=l,this.toastController=c,this.modalController=s,this.loadingController=p,this.appsettings={},this.b=0,this.boards=[],this.paging_board={page:1,limit:10,active:!0},this.filter_board={},this.comment={},this.comment2={},this.comments=[],this.paging={page:1,limit:10,active:!0},this.slides=[],this.slideIdx=0,this.slideTotal=0,this.svgRatio=56.25,this.settings={},this.APP_ROUTE=q.z,this.readfileuploadurl="",this.isfullscreen=!1,this.pageBack=()=>{this.slideIdx>0&&(this.slideIdx--,this.renderSlide())},this.pageNext=()=>{this.slideIdx<this.slideTotal-1&&(this.slideIdx++,this.renderSlide())},this.onFullScreen=()=>{var u,m;(m=null!==(u=document.getElementById("sieunhangaoo"))&&void 0!==u?u:document.body).requestFullscreen?m.requestFullscreen():m.mozRequestFullScreen?m.mozRequestFullScreen():m.webkitRequestFullscreen?m.webkitRequestFullscreen():m.msRequestFullscreen&&m.msRequestFullscreen(),setTimeout(()=>{this.isfullscreen=(m=>!!(m.fullscreen||m.fullscreenElement||m.webkitFullscreenElement||m.mozFullScreenElement||m.msFullscreenElement))(document)},600)},this.offFullScreen=()=>{var u;(u=document).exitFullscreen?u.exitFullscreen():u.mozCancelFullScreen?u.mozCancelFullScreen():u.webkitExitFullscreen?u.webkitExitFullscreen():u.msExitFullscreen&&u.msExitFullscreen(),setTimeout(()=>{this.isfullscreen=(u=>!!(u.fullscreen||u.fullscreenElement||u.webkitFullscreenElement||u.mozFullScreenElement||u.msFullscreenElement))(document)},600)},this.slideIdx=parseInt(l.snapshot.queryParamMap.get("n")||"1")-1;let w=this.activatedRoute.snapshot.paramMap.get("id")||this.activatedRoute.snapshot.queryParamMap.get("b")||"";w?this.b=parseInt(w):window.location.replace("/"),(0,_.Z)(function*(){f.loading=yield f.loadingController.create({message:""})})()}ngOnInit(){var o=this;Z.icdt.container="#mainContainer",Z.icdt.svg="#mainSvg",(0,_.Z)(function*(){var e;o.appsettings=yield(0,T.H0)(),Z.icdt.config=yield(0,T.H0)(),o.user=yield(0,S.iA)(),o.readfileuploadurl=null!==(e=o.appsettings.readfileuploadurl)&&void 0!==e?e:"",o.refreshData()})()}ngAfterViewInit(){window.addEventListener("resize",()=>{console.log("preview window resize"),this.slide&&(0,b.U)(Z.icdt.container,Z.icdt.svg,this.slide)})}onIonRefresher(o){this.refreshData(()=>{o.target.complete()})}onIonInfinite(o){this.loadMore(()=>{o.target.complete()})}onIonInfinite_BoardRelated(o){this.loadMore_BoardRelated(()=>{o.target.complete()})}resetData(){this.boards.length=0,this.comments.length=0}refreshData(o){var e,i;this.paging.page=1,this.paging.active=!0,this.resetData(),this.loadData_Paging(o),(0,F.T6)({params:{userid:null===(e=this.user)||void 0===e?void 0:e.userid,board_id:this.b},callback:l=>{var c,s,p;(console.log(l),null!=l&&l.board_id)?(this.board=l,l&&(0,L.M0)(this.titleService,this.metaService,{title:l.board_title,description:(0,K.Qy)(l.board_description),image:{url:`${this.appsettings.readfileuploadurl}${this.appsettings.boardpath}${l.board_id}/cover.svg`,type:"image/svg",width:l.size_width,height:l.size_height,alt:l.board_title},url:j.N.url+q.z.VIEWER_ID.replace(":id",null!==(s=null===(p=l.board_id)||void 0===p?void 0:p.toString())&&void 0!==s?s:"")}),(0,A.Yx)({params:{userid:null===(c=this.user)||void 0===c?void 0:c.userid,board_id:this.b},callback:f=>{var w;let u;if(f&&!f.modules?u=(0,I.w)(f):"icdtV2"==(null==f?void 0:f.modules)&&(u=f),u)return b.$.data=u,b.$.changeSlide=(m,Mn,N,$,h)=>{var v,C,P,x;this.slideIdx=N,this.slideTotal=$,this.slide=h;let O=(0,J.q)((null!==(v=null==h||null===(C=h.svg)||void 0===C?void 0:C.viewBox.height)&&void 0!==v?v:1)/(null!==(P=null==h||null===(x=h.svg)||void 0===x?void 0:x.viewBox.width)&&void 0!==P?P:1)*100,100);this.svgRatio!=O&&(this.svgRatio=O)},this.slideTotal=b.$.slideTotal,void this.renderSlide();(0,A.Ir)({params:{userid:null===(w=this.user)||void 0===w?void 0:w.userid,board_id:this.b},callback:m=>{m&&(b.$.data=(0,I.w)(m),b.$.changeSlide=(Mn,N,$,h,v)=>{var C,P,x,O;this.slideIdx=$,this.slideTotal=h,this.slide=v;let Q=(0,J.q)((null!==(C=null==v||null===(P=v.svg)||void 0===P?void 0:P.viewBox.height)&&void 0!==C?C:1)/(null!==(x=null==v||null===(O=v.svg)||void 0===O?void 0:O.viewBox.width)&&void 0!==x?x:1)*100,100);this.svgRatio!=Q&&(this.svgRatio=Q)},this.slideTotal=b.$.slideTotal,this.renderSlide())}})}}),this.paging_board.page=1,this.paging_board.active=!0,this.filter_board={topic_id:null==l?void 0:l.topic_id,category_id:null==l?void 0:l.category_id},this.loadData_Paging_BoardRelated()):window.location.replace("/")}}),(0,A.gj)({params:{board_id:this.b,userid:null===(i=this.user)||void 0===i?void 0:i.userid},callback:l=>{this.settings=l||{buttons:{paging:!0}}}})}loadMore(o){this.paging.page+=1,this.loadData_Paging(o)}loadData_Paging(o){var e=this;return(0,_.Z)(function*(){var i;!function Y(t){t.params=t.params||{},(0,T.cd)({url:"api/comment/get",params:{getby:t.params.userid||null,v_tabletype:t.params.doctype||null,table_id:t.params.docid||null},success:r=>{r=r||{},"function"==typeof t.callback&&t.callback(r.data)},error:r=>{"function"==typeof t.callback&&t.callback(null),console.error(t,r)},loading:t.loading})}({loading:l=>{e.paging.loading=l},params:{userid:null===(i=e.user)||void 0===i?void 0:i.userid,doctype:1105,docid:e.b,numchild:e.paging.limit,posstart:(e.paging.page-1)*e.paging.limit+1,numofrow:e.paging.limit,sortfield:234,sorttype:"desc"},callback:l=>{e.comments=e.comments.concat(null!=l?l:[]),(!(null!=l&&l.length)||(null==l?void 0:l.length)<e.paging.limit)&&(e.paging.active=!1),o&&o()}})})()}loadMore_BoardRelated(o){this.paging_board.page+=1,this.loadData_Paging_BoardRelated(o)}loadData_Paging_BoardRelated(o){var e=this;return(0,_.Z)(function*(){var i;(0,F.GW)({loading:l=>{e.paging_board.loading=l},params:{userid:null===(i=e.user)||void 0===i?void 0:i.userid,topic_id:e.filter_board.topic_id,category_id:e.filter_board.category_id,sortfield:e.paging_board.sortfield,sorttype:e.paging_board.sorttype,page:e.paging_board.page,limit:e.paging_board.limit},callback:l=>{e.boards=e.boards.concat(null!=l?l:[]),(!(null!=l&&l.length)||(null==l?void 0:l.length)<e.paging_board.limit)&&(e.paging_board.active=!1),o&&o()}})})()}switchBoard(o,e){var i=this;return(0,_.Z)(function*(){i.b=null!=e?e:0,i.router.navigate([],{relativeTo:i.activatedRoute,queryParams:{b:i.b},queryParamsHandling:"merge",replaceUrl:!0}),i.refreshData()})()}renderSlide(){b.$.runSlide(this.slideIdx)}presentModalBoardShare(o){var e=this;return(0,_.Z)(function*(){var i;(yield e.modalController.create({component:z.P,componentProps:{b:null===(i=e.board)||void 0===i?void 0:i.board_id},mode:"md",cssClass:"ion-modal",backdropDismiss:!0,keyboardClose:!0})).present()})()}filterComments(o){return o?this.comments.filter(e=>e.comment_pid==o).sort((e,i)=>{var l,c;return(null!==(l=i.comment_id)&&void 0!==l?l:0)-(null!==(c=e.comment_id)&&void 0!==c?c:0)}):this.comments.filter(e=>!e.comment_pid).sort((e,i)=>{var l,c;return(null!==(l=i.comment_id)&&void 0!==l?l:0)-(null!==(c=e.comment_id)&&void 0!==c?c:0)})}formatDatetime(o,e){return y()().diff(y()(o),"days")<1?y()(o).fromNow():y()(o).format(null!=e?e:"HH:mm, DD/MM/YYYY")}keyupComment(o){var e=this;return(0,_.Z)(function*(){13==o.keyCode&&e.sendComment(o,e.comment)})()}changeComment(o){var e=this;return(0,_.Z)(function*(){var i;e.comment.comment_content=null!==(i=o.detail.value)&&void 0!==i?i:""})()}keyupComment2(o){var e=this;return(0,_.Z)(function*(){13==o.keyCode&&e.sendComment(o,e.comment2)})()}changeComment2(o){var e=this;return(0,_.Z)(function*(){var i;e.comment2.comment_content=null!==(i=o.detail.value)&&void 0!==i?i:""})()}replyComment(o,e){var i=this;return(0,_.Z)(function*(){i.comment2={comment_pid:e}})()}editComment(o,e){var i=this;return(0,_.Z)(function*(){var l;i.comment2=null!==(l=i.comments.find(c=>c.comment_id==e))&&void 0!==l?l:{}})()}sendComment(o,e){var i=this;return(0,_.Z)(function*(){var l;e.comment_content&&function H(t){t.params=t.params||{},(0,T.T1)({url:"api/comment/addupdate",params:{v_tabletype:t.params.doctype||null,table_id:t.params.docid||null,comment_id:t.params.comment_id||null,comment_pid:t.params.comment_pid||null,comment_content:t.params.comment_content||null,createdby:t.params.userid||null},success:r=>{"function"==typeof t.callback&&t.callback(r.data||null)},error:r=>{"function"==typeof t.callback&&t.callback(null),console.error(t,r)},loading:t.loading})}({loading:c=>{var s,p;c?null===(s=i.loading)||void 0===s||s.present():null===(p=i.loading)||void 0===p||p.dismiss()},params:{userid:null===(l=i.user)||void 0===l?void 0:l.userid,doctype:1105,docid:i.b,comment_id:e.comment_id,comment_pid:e.comment_pid,comment_content:e.comment_content},callback:c=>{0==(null==c?void 0:c.returncode)?(e.comment_id?i.comments.filter(s=>s.comment_id!=e.comment_id).forEach(s=>e):(e.comment_id=null==c?void 0:c.id,i.comments.push(e)),i.comment={},i.comment2={}):(0,B.B)(i.toastController,{},c).then(s=>{s.present()})}})})()}deleteComment(o,e){var i=this;return(0,_.Z)(function*(){var l;!function D(t){t.params=t.params||{},(0,T.tD)({url:"api/comment/delete",params:{comment_id:t.params.comment_id||null,createdby:t.params.userid||null},success:r=>{"function"==typeof t.callback&&t.callback(r.data||null)},error:r=>{"function"==typeof t.callback&&t.callback(null),console.error(t,r)},loading:t.loading})}({loading:c=>{var s,p;c?null===(s=i.loading)||void 0===s||s.present():null===(p=i.loading)||void 0===p||p.dismiss()},params:{userid:null===(l=i.user)||void 0===l?void 0:l.userid,comment_id:e},callback:c=>{0==(null==c?void 0:c.returncode)?i.comments=i.comments.filter(s=>s.comment_id!=e&&s.comment_pid!=e):(0,B.B)(i.toastController,{},c).then(s=>{s.present()})}})})()}toggleLike(o){var e=this;return(0,_.Z)(function*(){e.board&&(e.board.isliked=!e.board.isliked)})()}}return(t=r).\u0275fac=function(o){return new(o||t)(n.Y36(R.Dx),n.Y36(R.h_),n.Y36(k.F0),n.Y36(k.gz),n.Y36(g.yF),n.Y36(g.IN),n.Y36(g.HT))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-viewer"]],decls:77,vars:33,consts:[["slot","fixed",3,"ionRefresh"],[1,"bg-cover","pb-5"],[1,"container","pt-3","pt-xxl-5","pb-5"],[1,"row","align-items-stretch"],[1,"col-12","col-lg-8","info"],[1,"mt-0","mb-2","mb-xxl-3"],[1,"d-flex","align-items-center","justify-content-between","mt-0","mb-2","mb-xxl-4"],[3,"src"],[4,"ngIf"],[1,"col-12","col-lg-8","mb-3"],[1,"position-relative","w-0","h-0","content"],["id","sieunhangaoo"],[1,"position-absolute","top-0","left-0","right-0","bottom-0"],["id","mainContainer",1,"svg-box"],["id","mainSvg","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink",1,"viewer"],[1,"position-absolute","left-0","right-0","bottom-0"],[1,"group-action"],[1,"col-12","col-lg-4","mb-3","playlist"],[1,"d-flex","flex-column","w-100","h-100"],[1,"d-flex","w-100","my-3"],[1,"col","pl-0"],["mode","ios","expand","block",3,"href","disabled"],[1,"col-auto","px-0"],["mode","ios","color","light",3,"click"],[1,"flex-grow-1","board-related-ion-content","d-none","d-lg-block"],[4,"ngFor","ngForOf"],[3,"ionInfinite",4,"ngIf"],[1,"flex-grow-1","board-related","d-block","d-lg-none"],[1,"container","introduce","mb-4",2,"margin-top","-3rem"],[1,"mb-4"],[1,"row"],[3,"innerHTML"],["class","col-12 col-lg-4 mb-3",4,"ngIf"],[1,"container","container-comment","pb-5","mb-5"],[1,"row","mb-4"],[1,"col-12","col-lg-8"],["lines","full","mode","ios"],[3,"placeholder","value","ionChange","keyup"],["slot","end","mode","ios","size","default","shape","clear",3,"click"],["name","paper-plane-outline"],[1,"col-12","col-lg-8","pl-0"],["lines","none"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngFor","ngForOf"],["templateCommentLI",""],["mode","ios","size","small","color","light",3,"click"],["slot","start","name","share-social-outline"],[1,"group-action-paging"],["fill","clear",1,"ion-no-margin","ion-no-padding",3,"disabled","click"],["src","../../../assets/icon-png/Back.png"],["src","../../../assets/icon-png/Next.png"],["fill","clear",1,"ion-no-margin","ion-no-padding",3,"click"],["src","../../../assets/images/viewer/RefreshButton_normal.png"],[3,"ngSwitch"],[4,"ngSwitchCase"],["src","../../../assets/images/viewer/ExitFullButton_active.png"],["src","../../../assets/images/viewer/FullButton_normal.png"],["mode","ios",3,"click"],[3,"name"],[3,"ionInfinite"],[1,"text-muted"],[1,"col-12","col-lg-4","mb-3"],[1,"alert","mb-0",3,"innerHTML"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["lines","full",4,"ngIf"],["slot","start"],[1,"comment-name"],[1,"comment-content"],[1,"comment-action"],[3,"click"],["side","end",4,"ngIf"],["side","end"],["color","secondary",3,"click"],["color","danger",3,"click"],["lines","full"],[3,"placeholder","autofocus","value","ionChange","keyup"],["slot","end","mode","ios","size","large","shape","clear",3,"click"]],template:function(o,e){if(1&o&&(n._UZ(0,"app-header"),n.TgZ(1,"ion-content")(2,"ion-refresher",0),n.NdJ("ionRefresh",function(l){return e.onIonRefresher(l)}),n._UZ(3,"ion-refresher-content"),n.qZA(),n.TgZ(4,"div",1)(5,"div",2)(6,"div",3)(7,"div",4)(8,"h3",5),n._uU(9),n.qZA(),n.TgZ(10,"div",6)(11,"div")(12,"ion-chip")(13,"ion-avatar"),n._UZ(14,"img",7),n.qZA(),n.TgZ(15,"ion-label"),n._uU(16),n.qZA()()(),n.YNc(17,en,6,3,"div",8),n.qZA()(),n.TgZ(18,"div",9)(19,"div",10)(20,"div",11)(21,"div",12)(22,"div",13),n.O4$(),n._UZ(23,"svg",14),n.qZA()(),n.kcU(),n.TgZ(24,"div",15)(25,"div",16),n.YNc(26,tn,8,4,"ng-container",8),n.YNc(27,on,4,0,"ng-container",8),n.YNc(28,rn,5,3,"ng-container",8),n.qZA()()()()(),n.TgZ(29,"div",17)(30,"div",18)(31,"div")(32,"div"),n._uU(33),n.qZA(),n.TgZ(34,"div",19)(35,"div",20)(36,"ion-button",21)(37,"ion-label"),n._uU(38),n.ALo(39,"translate"),n.qZA()()(),n.TgZ(40,"div",22)(41,"ion-button",23),n.NdJ("click",function(l){return e.toggleLike(l)}),n._UZ(42,"ion-icon",7),n.qZA()()()(),n.TgZ(43,"div",24)(44,"ion-content"),n.YNc(45,cn,5,4,"ng-container",25),n.YNc(46,dn,2,0,"ion-infinite-scroll",26),n.qZA()(),n.TgZ(47,"div",27),n.YNc(48,sn,5,4,"ng-container",25),n.qZA()()()()()(),n.TgZ(49,"div",28)(50,"h5",29),n._uU(51),n.ALo(52,"translate"),n.qZA(),n.TgZ(53,"div",30)(54,"div",9),n._UZ(55,"div",31),n.YNc(56,gn,4,3,"div",8),n.qZA(),n.YNc(57,un,2,1,"div",32),n.qZA()(),n.TgZ(58,"div",33)(59,"div",34)(60,"div",35)(61,"h5"),n._uU(62),n.ALo(63,"translate"),n.qZA(),n.TgZ(64,"ion-item",36)(65,"ion-input",37),n.NdJ("ionChange",function(l){return e.changeComment(l)})("keyup",function(l){return e.keyupComment(l)}),n.ALo(66,"translate"),n.qZA(),n.TgZ(67,"ion-button",38),n.NdJ("click",function(l){return e.sendComment(l,e.comment)}),n._UZ(68,"ion-icon",39),n.qZA()()()(),n.TgZ(69,"div",34)(70,"div",40)(71,"ion-list",41)(72,"ul"),n.YNc(73,mn,1,4,"ng-container",42),n.qZA()()()()(),n._UZ(74,"app-footer"),n.qZA(),n.YNc(75,hn,5,3,"ng-template",null,43,n.W1O)),2&o){let i,l,c;n.xp6(9),n.Oqu(null==e.board?null:e.board.board_title),n.xp6(5),n.Q6J("src",null!=e.board&&e.board.created_avatar?e.readfileuploadurl+(null==e.board?null:e.board.created_avatar):"assets/image/user-avatar-default.png",n.LSH),n.xp6(2),n.Oqu(null==e.board?null:e.board.created_name),n.xp6(1),n.Q6J("ngIf",(null==e.user?null:e.user.userid)==(null==e.board?null:e.board.createdby)),n.xp6(2),n.uIk("style","padding-bottom:"+e.svgRatio+"%",n.Ckj),n.xp6(7),n.Q6J("ngIf",null==e.settings.buttons?null:e.settings.buttons.paging),n.xp6(1),n.Q6J("ngIf",null==e.settings.buttons?null:e.settings.buttons.refresh),n.xp6(1),n.Q6J("ngIf",null==e.settings.buttons?null:e.settings.buttons.fullscreen),n.xp6(5),n.Oqu(null==(null!==(i=null!==(i=null!==(i=null==e.board?null:e.board.topic_titles)&&void 0!==i?i:null==e.board?null:e.board.topic_title)&&void 0!==i?i:null==e.board?null:e.board.category_titles)&&void 0!==i?i:null==e.board?null:e.board.category_title)||null==(i=(null!==(i=null!==(i=null!==(i=null==e.board?null:e.board.topic_titles)&&void 0!==i?i:null==e.board?null:e.board.topic_title)&&void 0!==i?i:null==e.board?null:e.board.category_titles)&&void 0!==i?i:null==e.board?null:e.board.category_title).split(";"))||null==(l=i.reverse())?null:l.join(" / ")),n.xp6(3),n.Q6J("href",e.APP_ROUTE.EDITOR+"?b="+(null==e.board?null:e.board.board_id))("disabled",!(null!=e.board&&e.board.chotausuabai)),n.xp6(2),n.Oqu(n.lcZ(39,25,"Editor")),n.xp6(4),n.MGl("src","../../../assets/image/viewer/",null!=e.board&&e.board.isliked?"star-2.svg":"star.svg",""),n.xp6(3),n.Q6J("ngForOf",e.boards),n.xp6(1),n.Q6J("ngIf",e.paging_board.active&&!e.paging_board.loading),n.xp6(2),n.Q6J("ngForOf",e.boards),n.xp6(3),n.Oqu(n.lcZ(52,27,"Introduce")),n.xp6(4),n.Q6J("innerHTML",null==e.board?null:e.board.board_description,n.oJD),n.xp6(1),n.Q6J("ngIf",!(null!=e.board&&e.board.board_description)),n.xp6(1),n.Q6J("ngIf",null==e.board?null:e.board.board_content),n.xp6(5),n.AsE("",n.lcZ(63,29,"Comment")," (",e.comments.length,")"),n.xp6(3),n.s9C("placeholder",n.lcZ(66,31,"EnterComment")),n.Q6J("value",null!==(c=e.comment.comment_content)&&void 0!==c?c:""),n.xp6(8),n.Q6J("ngForOf",e.filterComments())}},dependencies:[M.sg,M.O5,M.tP,M.RF,M.n9,g.BJ,g.YG,g.hM,g.W2,g.gu,g.Xz,g.ju,g.MB,g.pK,g.Ie,g.u8,g.IK,g.td,g.Q$,g.q_,g.nJ,g.Wo,g.Bs,g.j9,W.G,X.c,nn.X$],styles:[".bg-contain[_ngcontent-%COMP%]{background-image:url(bg.33cb60bd32718d53.svg);background-repeat:no-repeat;background-position:top center;background-size:contain}.bg-cover[_ngcontent-%COMP%]{background-image:url(bg.33cb60bd32718d53.svg);background-repeat:no-repeat;background-position:bottom center;background-size:cover}.info[_ngcontent-%COMP%]   ion-chip[_ngcontent-%COMP%]{margin:0;--background: transparent}.info[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin:0}.content[_ngcontent-%COMP%]{border-radius:.75rem;overflow:hidden;box-shadow:4px 4px 12px #01010133}.nav-action[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:inherit;font-size:1.25rem}.nav-action[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] + a[_ngcontent-%COMP%]{margin-left:3rem}.introduce[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{border-radius:.75rem;background-color:#fff3b6;color:#000}.svg-box[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;background:var(--ion-toolbar-background, var(--ion-color-step-50, #f7f7f7));display:flex;align-items:center;justify-content:center}.svg-box[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{display:block;max-width:100%;max-height:100%;margin:auto;background:#fff}.group-action[_ngcontent-%COMP%]{position:absolute;bottom:.5rem;right:1rem;line-height:0;-webkit-user-select:none;user-select:none}.group-action[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap}.group-action[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] + div[_ngcontent-%COMP%]{margin-left:1rem}.group-action[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;padding:0 1rem;vertical-align:middle;font-size:18px;color:#fab11d}.group-action[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{vertical-align:middle;width:34px;height:34px}.group-action[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-img[_ngcontent-%COMP%]{height:34px}.container-comment[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:block;padding:0;margin:1rem 0}.container-comment[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]:empty{display:none}.container-comment[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:block;margin:0 0 .5rem}.container-comment[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:4rem}.container-comment[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]{--size: 3rem;--border-radius: 50%;margin-top:0;margin-bottom:0;align-self:flex-start}.container-comment[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0}.container-comment[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   .comment-name[_ngcontent-%COMP%]{line-height:1.5rem;font-weight:500}.container-comment[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   .comment-name[_ngcontent-%COMP%] > small[_ngcontent-%COMP%]{margin-left:.5rem;font-size:.75rem;color:var(--ion-color-medium);vertical-align:top}.container-comment[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]{line-height:1.5rem;white-space:wrap;text-align:justify}.container-comment[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   .comment-action[_ngcontent-%COMP%]{line-height:1.5rem}.container-comment[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   .comment-action[_ngcontent-%COMP%] > small[_ngcontent-%COMP%]{line-height:1;vertical-align:middle;font-size:.75rem;color:var(--ion-color-primary);cursor:pointer}.container-comment[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin:0;font-size:1rem;--background: var(--ion-color-secondary);--border-radius: .5rem;--padding-start: .5rem;--padding-end: .5rem}.container-comment[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.75rem}.container-comment[_ngcontent-%COMP%]   ion-item-option[_ngcontent-%COMP%]{text-transform:initial}.playlist[_ngcontent-%COMP%]   .board-related-ion-content[_ngcontent-%COMP%]{min-height:250px}.playlist[_ngcontent-%COMP%]   .board-related-ion-content[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--ion-background-color: transparent}.playlist[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--border-radius: .5rem;--padding-top: 0;--padding-bottom: 0;--padding-start: .75rem;--padding-end: .75rem;margin:0}.playlist[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:not([color]){--color: var(--ion-color-linear-contrast);--background: var(--ion-color-linear);--background-activated: var(--ion-color-linear-shade);--background-focused: var(--ion-color-linear-shade);--background-hover: var(--ion-color-linear-tint)}.playlist[_ngcontent-%COMP%]   ion-chip[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:.5rem;padding:.75rem 1.25rem;--background: transparent;--color: var(--ion-color-medium);-webkit-user-select:none;user-select:none}.playlist[_ngcontent-%COMP%]   ion-chip[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:.75rem;--color: var(--ion-color-medium-tint)}.playlist[_ngcontent-%COMP%]   ion-chip[_ngcontent-%COMP%]:hover{--background: rgba(var(--ion-text-color-rgb), .1)}.playlist[_ngcontent-%COMP%]   ion-chip.active[_ngcontent-%COMP%]{--background: rgba(var(--ion-color-secondary-rgb), .4);--color: var(--ion-text-color);font-weight:500}.playlist[_ngcontent-%COMP%]   ion-chip.active[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}"]}),r})()}];let Cn=(()=>{var t;class r{}return(t=r).\u0275fac=function(o){return new(o||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[k.Bz.forChild(bn),k.Bz]}),r})();var Pn=d(9074);let xn=(()=>{var t;class r{}return(t=r).\u0275fac=function(o){return new(o||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[M.ez,E.u5,g.Pc,Cn,Pn.V]}),r})()}}]);