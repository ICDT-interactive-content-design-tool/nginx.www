"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8598],{8598:(bn,V,c)=>{c.r(V),c.d(V,{ViewerPageModule:()=>hn});var w=c(6814),Y=c(6223),m=c(3536),x=c(6916),g=c(5861),O=c(4981),Z=c(4459),I=c(7090),k=c(8530),h=c(70),F=c(3377),J=c(9942),U=c(5811),R=c(2695),z=c(9691),B=c(8186),E=c(6676),T=c.n(E),G=c(8291),K=c(1862),j=c(553),n=c(5879),q=c(6593),W=c(1815),X=c(2820),nn=c(3999);function tn(o,d){if(1&o){const l=n.EpF();n.TgZ(0,"div")(1,"ion-button",41),n.NdJ("click",function(t){n.CHM(l);const e=n.oxw();return n.KtG(e.presentModalBoardShare(t))}),n._UZ(2,"ion-icon",42),n.TgZ(3,"ion-label"),n._uU(4),n.ALo(5,"translate"),n.qZA()()()}2&o&&(n.xp6(4),n.Oqu(n.lcZ(5,1,"Share")))}function en(o,d){if(1&o){const l=n.EpF();n.ynx(0),n.TgZ(1,"ion-chip",43),n.NdJ("click",function(t){const a=n.CHM(l).$implicit,r=n.oxw();return n.KtG(r.switchBoard(t,a.board_id))}),n._UZ(2,"ion-icon",44),n.TgZ(3,"ion-label"),n._uU(4),n.qZA()(),n.BQk()}if(2&o){const l=d.$implicit,i=n.oxw();n.xp6(1),n.Tol((null==i.board?null:i.board.board_id)==l.board_id?"active":""),n.xp6(1),n.Q6J("name",(null==i.board?null:i.board.board_id)==l.board_id?"ellipse":"ellipse-outline"),n.xp6(2),n.Oqu(l.board_title)}}function on(o,d){if(1&o){const l=n.EpF();n.TgZ(0,"ion-infinite-scroll",45),n.NdJ("ionInfinite",function(t){n.CHM(l);const e=n.oxw();return n.KtG(e.onIonInfinite_BoardRelated(t))}),n._UZ(1,"ion-infinite-scroll-content"),n.qZA()}}function an(o,d){if(1&o){const l=n.EpF();n.ynx(0),n.TgZ(1,"ion-chip",43),n.NdJ("click",function(t){const a=n.CHM(l).$implicit,r=n.oxw();return n.KtG(r.switchBoard(t,a.board_id))}),n._UZ(2,"ion-icon",44),n.TgZ(3,"ion-label"),n._uU(4),n.qZA()(),n.BQk()}if(2&o){const l=d.$implicit,i=n.oxw();n.xp6(1),n.Tol((null==i.board?null:i.board.board_id)==l.board_id?"active":""),n.xp6(1),n.Q6J("name",(null==i.board?null:i.board.board_id)==l.board_id?"ellipse":"ellipse-outline"),n.xp6(2),n.Oqu(l.board_title)}}function ln(o,d){1&o&&(n.TgZ(0,"div")(1,"div",46),n._uU(2),n.ALo(3,"translate"),n.qZA()()),2&o&&(n.xp6(2),n.Oqu(n.lcZ(3,1,"NoData")))}function rn(o,d){if(1&o&&(n.TgZ(0,"div",47),n._UZ(1,"div",48),n.qZA()),2&o){const l=n.oxw();n.xp6(1),n.Q6J("innerHTML",null==l.board?null:l.board.board_content,n.oJD)}}const N=function(o){return{$implicit:o}};function dn(o,d){if(1&o&&n.GkF(0,49),2&o){const l=d.$implicit;n.oxw();const i=n.MAs(70);n.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",n.VKq(2,N,l))}}function cn(o,d){if(1&o){const l=n.EpF();n.TgZ(0,"ion-item-options",57)(1,"ion-item-option",58),n.NdJ("click",function(t){n.CHM(l);const e=n.oxw(2).$implicit,a=n.oxw();return n.KtG(a.editComment(t,e.comment_id))}),n._uU(2),n.ALo(3,"translate"),n.qZA(),n.TgZ(4,"ion-item-option",59),n.NdJ("click",function(t){n.CHM(l);const e=n.oxw(2).$implicit,a=n.oxw();return n.KtG(a.deleteComment(t,e.comment_id))}),n._uU(5),n.ALo(6,"translate"),n.qZA()()}2&o&&(n.xp6(2),n.Oqu(n.lcZ(3,2,"Edit")),n.xp6(3),n.Oqu(n.lcZ(6,4,"Delete")))}function sn(o,d){if(1&o){const l=n.EpF();n.TgZ(0,"ion-item-sliding")(1,"ion-item")(2,"ion-thumbnail",51),n._UZ(3,"img",7),n.qZA(),n.TgZ(4,"ion-label")(5,"div",52),n._uU(6),n.TgZ(7,"small"),n._uU(8),n.qZA()(),n.TgZ(9,"div",53),n._uU(10),n.qZA(),n.TgZ(11,"div",54)(12,"small",55),n.NdJ("click",function(t){n.CHM(l);const e=n.oxw().$implicit,a=n.oxw();return n.KtG(a.replyComment(t,e.comment_id))}),n._uU(13),n.ALo(14,"translate"),n.qZA()()()(),n.YNc(15,cn,7,6,"ion-item-options",56),n.qZA()}if(2&o){const l=n.oxw().$implicit,i=n.oxw();n.xp6(3),n.Q6J("src",l.account_avatar?i.readfileuploadurl+l.account_avatar:"assets/image/user-avatar-default.png",n.LSH),n.xp6(3),n.Oqu(l.created_name),n.xp6(2),n.Oqu(i.formatDatetime(l.createddate)),n.xp6(2),n.Oqu(l.comment_content),n.xp6(3),n.Oqu(n.lcZ(14,6,"Reply")),n.xp6(2),n.Q6J("ngIf",(null==i.user?null:i.user.userid)==l.createdby)}}function mn(o,d){if(1&o){const l=n.EpF();n.TgZ(0,"ion-item",60)(1,"ion-input",61),n.NdJ("ionChange",function(t){n.CHM(l);const e=n.oxw(2);return n.KtG(e.changeComment2(t))})("keyup",function(t){n.CHM(l);const e=n.oxw(2);return n.KtG(e.keyupComment2(t))}),n.ALo(2,"translate"),n.qZA(),n.TgZ(3,"ion-button",62),n.NdJ("click",function(t){n.CHM(l);const e=n.oxw(2);return n.KtG(e.sendComment(t,e.comment2))}),n._UZ(4,"ion-icon",36),n.qZA()()}if(2&o){const l=n.oxw(2);let i;n.xp6(1),n.s9C("placeholder",n.lcZ(2,3,"EnterReply")),n.Q6J("autofocus",!0)("value",null!==(i=l.comment2.comment_content)&&void 0!==i?i:"")}}function gn(o,d){if(1&o&&n.GkF(0,49),2&o){const l=d.$implicit;n.oxw(2);const i=n.MAs(70);n.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",n.VKq(2,N,l))}}function un(o,d){if(1&o&&(n.TgZ(0,"li"),n.YNc(1,sn,16,8,"ion-item-sliding",8),n.YNc(2,mn,5,5,"ion-item",50),n.TgZ(3,"ul"),n.YNc(4,gn,1,4,"ng-container",39),n.qZA()()),2&o){const l=d.$implicit,i=n.oxw();n.xp6(1),n.Q6J("ngIf",i.comment2.comment_id!=l.comment_id),n.xp6(1),n.Q6J("ngIf",i.comment2.comment_pid==l.comment_id),n.xp6(2),n.Q6J("ngForOf",i.filterComments(l.comment_id))}}const _n=[{path:"",component:(()=>{var o;class d{constructor(i,t,e,a,r,s,u){var p=this;this.titleService=i,this.metaService=t,this.router=e,this.activatedRoute=a,this.toastController=r,this.modalController=s,this.loadingController=u,this.appsettings={},this.b=0,this.boards=[],this.paging_board={page:1,limit:10,active:!0},this.filter_board={},this.comment={},this.comment2={},this.comments=[],this.paging={page:1,limit:10,active:!0},this.slides=[],this.slideIdx=0,this.slideTotal=0,this.svgRatio=56.25,this.settings={},this.APP_ROUTE=R.z,this.readfileuploadurl="",this.pageBack=()=>{this.slideIdx>0&&(this.slideIdx--,this.renderSlide())},this.pageNext=()=>{this.slideIdx<this.slideTotal-1&&(this.slideIdx++,this.renderSlide())},this.slideIdx=parseInt(a.snapshot.queryParamMap.get("n")||"1")-1;let P=this.activatedRoute.snapshot.paramMap.get("id")||this.activatedRoute.snapshot.queryParamMap.get("b")||"";P?this.b=parseInt(P):window.location.replace("/"),(0,g.Z)(function*(){p.loading=yield p.loadingController.create({message:""})})()}ngOnInit(){var i=this;O.icdt.container="#mainContainer",O.icdt.svg="#mainSvg",(0,g.Z)(function*(){var t;i.appsettings=yield(0,Z.H0)(),O.icdt.config=yield(0,Z.H0)(),i.user=yield(0,F.iA)(),i.readfileuploadurl=null!==(t=i.appsettings.readfileuploadurl)&&void 0!==t?t:"",i.refreshData()})()}ngAfterViewInit(){window.addEventListener("resize",()=>{console.log("preview window resize"),this.slide&&(0,h.U)(O.icdt.container,O.icdt.svg,this.slide)})}onIonRefresher(i){this.refreshData(()=>{i.target.complete()})}onIonInfinite(i){this.loadMore(()=>{i.target.complete()})}onIonInfinite_BoardRelated(i){this.loadMore_BoardRelated(()=>{i.target.complete()})}resetData(){this.boards.length=0,this.comments.length=0}refreshData(i){var t,e;this.paging.page=1,this.paging.active=!0,this.resetData(),this.loadData_Paging(i),(0,I.T6)({params:{userid:null===(t=this.user)||void 0===t?void 0:t.userid,board_id:this.b},callback:a=>{var r,s,u;(console.log(a),null!=a&&a.board_id)?(this.board=a,a&&(0,G.M0)(this.titleService,this.metaService,{title:a.board_title,description:(0,K.Qy)(a.board_description),image:{url:`${this.appsettings.readfileuploadurl}${this.appsettings.boardpath}${a.board_id}/cover.svg`,type:"image/svg",width:a.size_width,height:a.size_height,alt:a.board_title},url:j.N.url+R.z.VIEWER_ID.replace(":id",null!==(s=null===(u=a.board_id)||void 0===u?void 0:u.toString())&&void 0!==s?s:"")}),(0,k.Yx)({params:{userid:null===(r=this.user)||void 0===r?void 0:r.userid,board_id:this.b},callback:p=>{var P;let y;if(p&&!p.modules?y=(0,J.w)(p):"icdtV2"==(null==p?void 0:p.modules)&&(y=p),y)return h.$.data=y,h.$.changeSlide=($,fn,D,A,v)=>{var _,f,b,C;this.slideIdx=D,this.slideTotal=A,this.slide=v;let M=(0,U.q)((null!==(_=null==v||null===(f=v.svg)||void 0===f?void 0:f.viewBox.height)&&void 0!==_?_:1)/(null!==(b=null==v||null===(C=v.svg)||void 0===C?void 0:C.viewBox.width)&&void 0!==b?b:1)*100,100);this.svgRatio!=M&&(this.svgRatio=M)},this.slideTotal=h.$.slideTotal,void this.renderSlide();(0,k.Ir)({params:{userid:null===(P=this.user)||void 0===P?void 0:P.userid,board_id:this.b},callback:$=>{$&&(h.$.data=(0,J.w)($),h.$.changeSlide=(fn,D,A,v,_)=>{var f,b,C,M;this.slideIdx=A,this.slideTotal=v,this.slide=_;let Q=(0,U.q)((null!==(f=null==_||null===(b=_.svg)||void 0===b?void 0:b.viewBox.height)&&void 0!==f?f:1)/(null!==(C=null==_||null===(M=_.svg)||void 0===M?void 0:M.viewBox.width)&&void 0!==C?C:1)*100,100);this.svgRatio!=Q&&(this.svgRatio=Q)},this.slideTotal=h.$.slideTotal,this.renderSlide())}})}}),this.paging_board.page=1,this.paging_board.active=!0,this.filter_board={topic_id:null==a?void 0:a.topic_id,category_id:null==a?void 0:a.category_id},this.loadData_Paging_BoardRelated()):window.location.replace("/")}}),(0,k.gj)({params:{board_id:this.b,userid:null===(e=this.user)||void 0===e?void 0:e.userid},callback:a=>{this.settings=a||{buttons:{paging:!0}}}})}loadMore(i){this.paging.page+=1,this.loadData_Paging(i)}loadData_Paging(i){var t=this;return(0,g.Z)(function*(){var e;!function H(o){o.params=o.params||{},(0,Z.cd)({url:"api/comment/get",params:{getby:o.params.userid||null,v_tabletype:o.params.doctype||null,table_id:o.params.docid||null},success:d=>{d=d||{},"function"==typeof o.callback&&o.callback(d.data)},error:d=>{"function"==typeof o.callback&&o.callback(null),console.error(o,d)},loading:o.loading})}({loading:a=>{t.paging.loading=a},params:{userid:null===(e=t.user)||void 0===e?void 0:e.userid,doctype:1105,docid:t.b,numchild:t.paging.limit,posstart:(t.paging.page-1)*t.paging.limit+1,numofrow:t.paging.limit,sortfield:234,sorttype:"desc"},callback:a=>{t.comments=t.comments.concat(null!=a?a:[]),(!(null!=a&&a.length)||(null==a?void 0:a.length)<t.paging.limit)&&(t.paging.active=!1),i&&i()}})})()}loadMore_BoardRelated(i){this.paging_board.page+=1,this.loadData_Paging_BoardRelated(i)}loadData_Paging_BoardRelated(i){var t=this;return(0,g.Z)(function*(){var e;(0,I.GW)({loading:a=>{t.paging_board.loading=a},params:{userid:null===(e=t.user)||void 0===e?void 0:e.userid,topic_id:t.filter_board.topic_id,category_id:t.filter_board.category_id,sortfield:t.paging_board.sortfield,sorttype:t.paging_board.sorttype,page:t.paging_board.page,limit:t.paging_board.limit},callback:a=>{t.boards=t.boards.concat(null!=a?a:[]),(!(null!=a&&a.length)||(null==a?void 0:a.length)<t.paging_board.limit)&&(t.paging_board.active=!1),i&&i()}})})()}switchBoard(i,t){var e=this;return(0,g.Z)(function*(){e.b=null!=t?t:0,e.router.navigate([],{relativeTo:e.activatedRoute,queryParams:{b:e.b},queryParamsHandling:"merge",replaceUrl:!0}),e.refreshData()})()}renderSlide(){h.$.runSlide(this.slideIdx)}presentModalBoardShare(i){var t=this;return(0,g.Z)(function*(){var e;(yield t.modalController.create({component:z.P,componentProps:{b:null===(e=t.board)||void 0===e?void 0:e.board_id},mode:"md",cssClass:"ion-modal",backdropDismiss:!0,keyboardClose:!0})).present()})()}filterComments(i){return i?this.comments.filter(t=>t.comment_pid==i).sort((t,e)=>{var a,r;return(null!==(a=e.comment_id)&&void 0!==a?a:0)-(null!==(r=t.comment_id)&&void 0!==r?r:0)}):this.comments.filter(t=>!t.comment_pid).sort((t,e)=>{var a,r;return(null!==(a=e.comment_id)&&void 0!==a?a:0)-(null!==(r=t.comment_id)&&void 0!==r?r:0)})}formatDatetime(i,t){return T()().diff(T()(i),"days")<1?T()(i).fromNow():T()(i).format(null!=t?t:"HH:mm, DD/MM/YYYY")}keyupComment(i){var t=this;return(0,g.Z)(function*(){13==i.keyCode&&t.sendComment(i,t.comment)})()}changeComment(i){var t=this;return(0,g.Z)(function*(){var e;t.comment.comment_content=null!==(e=i.detail.value)&&void 0!==e?e:""})()}keyupComment2(i){var t=this;return(0,g.Z)(function*(){13==i.keyCode&&t.sendComment(i,t.comment2)})()}changeComment2(i){var t=this;return(0,g.Z)(function*(){var e;t.comment2.comment_content=null!==(e=i.detail.value)&&void 0!==e?e:""})()}replyComment(i,t){var e=this;return(0,g.Z)(function*(){e.comment2={comment_pid:t}})()}editComment(i,t){var e=this;return(0,g.Z)(function*(){var a;e.comment2=null!==(a=e.comments.find(r=>r.comment_id==t))&&void 0!==a?a:{}})()}sendComment(i,t){var e=this;return(0,g.Z)(function*(){var a;t.comment_content&&function L(o){o.params=o.params||{},(0,Z.T1)({url:"api/comment/addupdate",params:{v_tabletype:o.params.doctype||null,table_id:o.params.docid||null,comment_id:o.params.comment_id||null,comment_pid:o.params.comment_pid||null,comment_content:o.params.comment_content||null,createdby:o.params.userid||null},success:d=>{"function"==typeof o.callback&&o.callback(d.data||null)},error:d=>{"function"==typeof o.callback&&o.callback(null),console.error(o,d)},loading:o.loading})}({loading:r=>{var s,u;r?null===(s=e.loading)||void 0===s||s.present():null===(u=e.loading)||void 0===u||u.dismiss()},params:{userid:null===(a=e.user)||void 0===a?void 0:a.userid,doctype:1105,docid:e.b,comment_id:t.comment_id,comment_pid:t.comment_pid,comment_content:t.comment_content},callback:r=>{0==(null==r?void 0:r.returncode)?(t.comment_id?e.comments.filter(s=>s.comment_id!=t.comment_id).forEach(s=>t):(t.comment_id=null==r?void 0:r.id,e.comments.push(t)),e.comment={},e.comment2={}):(0,B.B)(e.toastController,{},r).then(s=>{s.present()})}})})()}deleteComment(i,t){var e=this;return(0,g.Z)(function*(){var a;!function S(o){o.params=o.params||{},(0,Z.tD)({url:"api/comment/delete",params:{comment_id:o.params.comment_id||null,createdby:o.params.userid||null},success:d=>{"function"==typeof o.callback&&o.callback(d.data||null)},error:d=>{"function"==typeof o.callback&&o.callback(null),console.error(o,d)},loading:o.loading})}({loading:r=>{var s,u;r?null===(s=e.loading)||void 0===s||s.present():null===(u=e.loading)||void 0===u||u.dismiss()},params:{userid:null===(a=e.user)||void 0===a?void 0:a.userid,comment_id:t},callback:r=>{0==(null==r?void 0:r.returncode)?e.comments=e.comments.filter(s=>s.comment_id!=t&&s.comment_pid!=t):(0,B.B)(e.toastController,{},r).then(s=>{s.present()})}})})()}toggleLike(i){var t=this;return(0,g.Z)(function*(){t.board&&(t.board.isliked=!t.board.isliked)})()}}return(o=d).\u0275fac=function(i){return new(i||o)(n.Y36(q.Dx),n.Y36(q.h_),n.Y36(x.F0),n.Y36(x.gz),n.Y36(m.yF),n.Y36(m.IN),n.Y36(m.HT))},o.\u0275cmp=n.Xpm({type:o,selectors:[["app-viewer"]],decls:71,vars:30,consts:[["slot","fixed",3,"ionRefresh"],[1,"bg-cover","pb-5"],[1,"container","pt-3","pt-xxl-5","pb-5"],[1,"row","align-items-stretch"],[1,"col-12","col-lg-8","info"],[1,"mt-0","mb-2","mb-xxl-3"],[1,"d-flex","align-items-center","justify-content-between","mt-0","mb-2","mb-xxl-4"],[3,"src"],[4,"ngIf"],[1,"col-12","col-lg-8","mb-3"],[1,"position-relative","w-0","h-0","content"],[1,"position-absolute","top-0","left-0","right-0","bottom-0"],["id","mainContainer",1,"svg-box"],["id","mainSvg","xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink",1,"viewer"],[1,"col-12","col-lg-4","mb-3","playlist"],[1,"d-flex","flex-column","w-100","h-100"],[1,"d-flex","w-100","my-3"],[1,"col","pl-0"],["mode","ios","expand","block",3,"href","disabled"],[1,"col-auto","px-0"],["mode","ios","color","light",3,"click"],[1,"flex-grow-1","board-related-ion-content","d-none","d-lg-block"],[4,"ngFor","ngForOf"],[3,"ionInfinite",4,"ngIf"],[1,"flex-grow-1","board-related","d-block","d-lg-none"],[1,"container","introduce","mb-4",2,"margin-top","-3rem"],[1,"mb-4"],[1,"row"],[3,"innerHTML"],["class","col-12 col-lg-4 mb-3",4,"ngIf"],[1,"container","container-comment","pb-5","mb-5"],[1,"row","mb-4"],[1,"col-12","col-lg-8"],["lines","full","mode","ios"],[3,"placeholder","value","ionChange","keyup"],["slot","end","mode","ios","size","default","shape","clear",3,"click"],["name","paper-plane-outline"],[1,"col-12","col-lg-8","pl-0"],["lines","none"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngFor","ngForOf"],["templateCommentLI",""],["mode","ios","size","small","color","light",3,"click"],["slot","start","name","share-social-outline"],["mode","ios",3,"click"],[3,"name"],[3,"ionInfinite"],[1,"text-muted"],[1,"col-12","col-lg-4","mb-3"],[1,"alert","mb-0",3,"innerHTML"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["lines","full",4,"ngIf"],["slot","start"],[1,"comment-name"],[1,"comment-content"],[1,"comment-action"],[3,"click"],["side","end",4,"ngIf"],["side","end"],["color","secondary",3,"click"],["color","danger",3,"click"],["lines","full"],[3,"placeholder","autofocus","value","ionChange","keyup"],["slot","end","mode","ios","size","large","shape","clear",3,"click"]],template:function(i,t){if(1&i&&(n._UZ(0,"app-header"),n.TgZ(1,"ion-content")(2,"ion-refresher",0),n.NdJ("ionRefresh",function(a){return t.onIonRefresher(a)}),n._UZ(3,"ion-refresher-content"),n.qZA(),n.TgZ(4,"div",1)(5,"div",2)(6,"div",3)(7,"div",4)(8,"h3",5),n._uU(9),n.qZA(),n.TgZ(10,"div",6)(11,"div")(12,"ion-chip")(13,"ion-avatar"),n._UZ(14,"img",7),n.qZA(),n.TgZ(15,"ion-label"),n._uU(16),n.qZA()()(),n.YNc(17,tn,6,3,"div",8),n.qZA()(),n.TgZ(18,"div",9)(19,"div",10)(20,"div",11)(21,"div",12),n.O4$(),n._UZ(22,"svg",13),n.qZA()()()(),n.kcU(),n.TgZ(23,"div",14)(24,"div",15)(25,"div")(26,"div"),n._uU(27),n.qZA(),n.TgZ(28,"div",16)(29,"div",17)(30,"ion-button",18)(31,"ion-label"),n._uU(32),n.ALo(33,"translate"),n.qZA()()(),n.TgZ(34,"div",19)(35,"ion-button",20),n.NdJ("click",function(a){return t.toggleLike(a)}),n._UZ(36,"ion-icon",7),n.qZA()()()(),n.TgZ(37,"div",21)(38,"ion-content"),n.YNc(39,en,5,4,"ng-container",22),n.YNc(40,on,2,0,"ion-infinite-scroll",23),n.qZA()(),n.TgZ(41,"div",24),n.YNc(42,an,5,4,"ng-container",22),n.qZA()()()()()(),n.TgZ(43,"div",25)(44,"h5",26),n._uU(45),n.ALo(46,"translate"),n.qZA(),n.TgZ(47,"div",27)(48,"div",9),n._UZ(49,"div",28),n.YNc(50,ln,4,3,"div",8),n.qZA(),n.YNc(51,rn,2,1,"div",29),n.qZA()(),n.TgZ(52,"div",30)(53,"div",31)(54,"div",32)(55,"h5"),n._uU(56),n.ALo(57,"translate"),n.qZA(),n.TgZ(58,"ion-item",33)(59,"ion-input",34),n.NdJ("ionChange",function(a){return t.changeComment(a)})("keyup",function(a){return t.keyupComment(a)}),n.ALo(60,"translate"),n.qZA(),n.TgZ(61,"ion-button",35),n.NdJ("click",function(a){return t.sendComment(a,t.comment)}),n._UZ(62,"ion-icon",36),n.qZA()()()(),n.TgZ(63,"div",31)(64,"div",37)(65,"ion-list",38)(66,"ul"),n.YNc(67,dn,1,4,"ng-container",39),n.qZA()()()()(),n._UZ(68,"app-footer"),n.qZA(),n.YNc(69,un,5,3,"ng-template",null,40,n.W1O)),2&i){let e,a,r;n.xp6(9),n.Oqu(null==t.board?null:t.board.board_title),n.xp6(5),n.Q6J("src",null!=t.board&&t.board.created_avatar?t.readfileuploadurl+(null==t.board?null:t.board.created_avatar):"assets/image/user-avatar-default.png",n.LSH),n.xp6(2),n.Oqu(null==t.board?null:t.board.created_name),n.xp6(1),n.Q6J("ngIf",(null==t.user?null:t.user.userid)==(null==t.board?null:t.board.createdby)),n.xp6(2),n.uIk("style","padding-bottom:"+t.svgRatio+"%",n.Ckj),n.xp6(8),n.Oqu(null==(null!==(e=null!==(e=null!==(e=null==t.board?null:t.board.topic_titles)&&void 0!==e?e:null==t.board?null:t.board.topic_title)&&void 0!==e?e:null==t.board?null:t.board.category_titles)&&void 0!==e?e:null==t.board?null:t.board.category_title)||null==(e=(null!==(e=null!==(e=null!==(e=null==t.board?null:t.board.topic_titles)&&void 0!==e?e:null==t.board?null:t.board.topic_title)&&void 0!==e?e:null==t.board?null:t.board.category_titles)&&void 0!==e?e:null==t.board?null:t.board.category_title).split(";"))||null==(a=e.reverse())?null:a.join(" / ")),n.xp6(3),n.Q6J("href",t.APP_ROUTE.EDITOR+"?b="+(null==t.board?null:t.board.board_id))("disabled",!(null!=t.board&&t.board.chotausuabai)),n.xp6(2),n.Oqu(n.lcZ(33,22,"Editor")),n.xp6(4),n.MGl("src","../../../assets/image/viewer/",null!=t.board&&t.board.isliked?"star-2.svg":"star.svg",""),n.xp6(3),n.Q6J("ngForOf",t.boards),n.xp6(1),n.Q6J("ngIf",t.paging_board.active&&!t.paging_board.loading),n.xp6(2),n.Q6J("ngForOf",t.boards),n.xp6(3),n.Oqu(n.lcZ(46,24,"Introduce")),n.xp6(4),n.Q6J("innerHTML",null==t.board?null:t.board.board_description,n.oJD),n.xp6(1),n.Q6J("ngIf",!(null!=t.board&&t.board.board_description)),n.xp6(1),n.Q6J("ngIf",null==t.board?null:t.board.board_content),n.xp6(5),n.AsE("",n.lcZ(57,26,"Comment")," (",t.comments.length,")"),n.xp6(3),n.s9C("placeholder",n.lcZ(60,28,"EnterComment")),n.Q6J("value",null!==(r=t.comment.comment_content)&&void 0!==r?r:""),n.xp6(8),n.Q6J("ngForOf",t.filterComments())}},dependencies:[w.sg,w.O5,w.tP,m.BJ,m.YG,m.hM,m.W2,m.gu,m.ju,m.MB,m.pK,m.Ie,m.u8,m.IK,m.td,m.Q$,m.q_,m.nJ,m.Wo,m.Bs,m.j9,W.G,X.c,nn.X$],styles:[".bg-contain[_ngcontent-%COMP%]{background-image:url(bg.33cb60bd32718d53.svg);background-repeat:no-repeat;background-position:top center;background-size:contain}.bg-cover[_ngcontent-%COMP%]{background-image:url(bg.33cb60bd32718d53.svg);background-repeat:no-repeat;background-position:bottom center;background-size:cover}.info[_ngcontent-%COMP%]   ion-chip[_ngcontent-%COMP%]{margin:0;--background: transparent}.info[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin:0}.content[_ngcontent-%COMP%]{border-radius:.75rem;overflow:hidden;box-shadow:4px 4px 12px #01010133}.nav-action[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:inherit;font-size:1.25rem}.nav-action[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] + a[_ngcontent-%COMP%]{margin-left:3rem}.introduce[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{border-radius:.75rem;background-color:#fff3b6;color:#000}.svg-box[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;background:var(--ion-toolbar-background, var(--ion-color-step-50, #f7f7f7));display:flex;align-items:center;justify-content:center}.svg-box[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{display:block;max-width:100%;max-height:100%;margin:auto;background:#fff}.container-comment[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:block;padding:0;margin:1rem 0}.container-comment[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]:empty{display:none}.container-comment[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:block;margin:0 0 .5rem}.container-comment[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:4rem}.container-comment[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-thumbnail[_ngcontent-%COMP%]{--size: 3rem;--border-radius: 50%;margin-top:0;margin-bottom:0;align-self:flex-start}.container-comment[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0}.container-comment[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   .comment-name[_ngcontent-%COMP%]{line-height:1.5rem;font-weight:500}.container-comment[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   .comment-name[_ngcontent-%COMP%] > small[_ngcontent-%COMP%]{margin-left:.5rem;font-size:.75rem;color:var(--ion-color-medium);vertical-align:top}.container-comment[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   .comment-content[_ngcontent-%COMP%]{line-height:1.5rem;white-space:wrap;text-align:justify}.container-comment[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   .comment-action[_ngcontent-%COMP%]{line-height:1.5rem}.container-comment[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   .comment-action[_ngcontent-%COMP%] > small[_ngcontent-%COMP%]{line-height:1;vertical-align:middle;font-size:.75rem;color:var(--ion-color-primary);cursor:pointer}.container-comment[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{margin:0;font-size:1rem;--background: var(--ion-color-secondary);--border-radius: .5rem;--padding-start: .5rem;--padding-end: .5rem}.container-comment[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.75rem}.container-comment[_ngcontent-%COMP%]   ion-item-option[_ngcontent-%COMP%]{text-transform:initial}.playlist[_ngcontent-%COMP%]   .board-related-ion-content[_ngcontent-%COMP%]{min-height:250px}.playlist[_ngcontent-%COMP%]   .board-related-ion-content[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{--ion-background-color: transparent}.playlist[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--border-radius: .5rem;--padding-top: 0;--padding-bottom: 0;--padding-start: .75rem;--padding-end: .75rem;margin:0}.playlist[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]:not([color]){--color: var(--ion-color-linear-contrast);--background: var(--ion-color-linear);--background-activated: var(--ion-color-linear-shade);--background-focused: var(--ion-color-linear-shade);--background-hover: var(--ion-color-linear-tint)}.playlist[_ngcontent-%COMP%]   ion-chip[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:.5rem;padding:.75rem 1.25rem;--background: transparent;--color: var(--ion-color-medium);-webkit-user-select:none;user-select:none}.playlist[_ngcontent-%COMP%]   ion-chip[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:.75rem;--color: var(--ion-color-medium-tint)}.playlist[_ngcontent-%COMP%]   ion-chip[_ngcontent-%COMP%]:hover{--background: rgba(var(--ion-text-color-rgb), .1)}.playlist[_ngcontent-%COMP%]   ion-chip.active[_ngcontent-%COMP%]{--background: rgba(var(--ion-color-secondary-rgb), .4);--color: var(--ion-text-color);font-weight:500}.playlist[_ngcontent-%COMP%]   ion-chip.active[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}"]}),d})()}];let pn=(()=>{var o;class d{}return(o=d).\u0275fac=function(i){return new(i||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[x.Bz.forChild(_n),x.Bz]}),d})();var vn=c(9074);let hn=(()=>{var o;class d{}return(o=d).\u0275fac=function(i){return new(i||o)},o.\u0275mod=n.oAB({type:o}),o.\u0275inj=n.cJS({imports:[w.ez,Y.u5,m.Pc,pn,vn.V]}),d})()}}]);