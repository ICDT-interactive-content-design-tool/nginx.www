"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[752],{8662:(k,_,n)=>{n.d(_,{A:()=>d});const d=(0,n(2726).fo)("Device",{web:()=>n.e(7116).then(n.bind(n,7116)).then(f=>new f.DeviceWeb)})},7308:(k,_,n)=>{n.d(_,{s:()=>s});const s={Digit1:49,Digit2:50,Digit3:51,Digit4:52,Digit5:53,Digit6:54,Digit7:55,Digit8:56,Digit9:57,Digit0:48,KeyA:65,KeyB:66,KeyC:67,KeyD:68,KeyE:69,KeyF:70,KeyG:71,KeyH:72,KeyI:73,KeyJ:74,KeyK:75,KeyL:76,KeyM:77,KeyN:78,KeyO:79,KeyP:80,KeyQ:81,KeyR:82,KeyS:83,KeyT:84,KeyU:85,KeyV:86,KeyW:87,KeyX:88,KeyY:89,KeyZ:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,Insert:45,Delete:46,Home:36,End:35,PageUp:33,PageDown:34,ArrowUp:38,ArrowDown:40,ArrowLeft:37,ArrowRight:39,Escape:27,Tab:9,Backspace:8,Enter:13,Space:32,BracketLeft:219,BracketRight:221}},5328:(k,_,n)=>{n.d(_,{Es:()=>c,e8:()=>m,f9:()=>f,no:()=>d,s2:()=>b,u7:()=>g,xK:()=>l});var s=n(4459);function d(e){e.params=e.params||{},(0,s.cd)({url:"api/User/Detail",params:{userid:e.params.userid||null},success:r=>{"function"==typeof e.callback&&e.callback(r.data||null)},error:r=>{"function"==typeof e.callback&&e.callback(null),console.error(r)},loading:e.loading})}function f(e){e.params=e.params||{},(0,s.T1)({url:"api/User/SignIn",params:{emailaddr:e.params.emailaddr||null,pwd:e.params.pwd||null},success:r=>{"function"==typeof e.callback&&e.callback(r.data||null)},error:r=>{"function"==typeof e.callback&&e.callback(null),console.error(e,r)},loading:e.loading})}function g(e){e.params=e.params||{},(0,s.T1)({url:"api/User/SignUp",params:{firstname:e.params.firstname||null,lastname:e.params.lastname||null,emailaddr:e.params.emailaddr||null,pwd:e.params.pwd||null},success:r=>{"function"==typeof e.callback&&e.callback(r.data||null)},error:r=>{"function"==typeof e.callback&&e.callback(null),console.error(e,r)},loading:e.loading})}function c(e){e.params=e.params||{},(0,s.T1)({url:"api/User/Active",params:{emailaddr:e.params.emailaddr||null,activationcode:e.params.activationcode||null},success:r=>{"function"==typeof e.callback&&e.callback(r.data||null)},error:r=>{"function"==typeof e.callback&&e.callback(null),console.error(e,r)},loading:e.loading})}function l(e){e.params=e.params||{},(0,s.T1)({url:"api/User/ChangePassword",params:{emailaddr:e.params.emailaddr||null,pwd:e.params.pwd||null,forgotpwdcode:e.params.forgotpwdcode||null,newpwd:e.params.newpwd||null},success:r=>{"function"==typeof e.callback&&e.callback(r.data||null)},error:r=>{"function"==typeof e.callback&&e.callback(null),console.error(e,r)},loading:e.loading})}function b(e){e.params=e.params||{},(0,s.T1)({url:"api/User/UpdateInfo",params:{userid:e.params.userid||null,firstname:e.params.firstname||null,lastname:e.params.lastname||null,emailaddr:e.params.emailaddr||null,mobilecountrycode:e.params.mobilecountrycode||null,mobile:e.params.mobile||null,introduce:e.params.introduce||null},success:r=>{"function"==typeof e.callback&&e.callback(r.data||null)},error:r=>{"function"==typeof e.callback&&e.callback(null),console.error(e,r)},loading:e.loading})}function m(e){e.params=e.params||{},(0,s.T1)({url:"api/users/forgotpassword",params:{emailaddr:e.params.emailaddr||null},success:r=>{if("function"==typeof e.callback){var i=r.data||{};i.returncode=null!=i.returncode?i.returncode:i.ReturnCode,i.returnmsg=null!=i.returnmsg?i.returnmsg:i.ReturnMsg,i.id=null!=i.id?i.id:i.AccountID,e.callback(i)}},error:r=>{"function"==typeof e.callback&&e.callback(null),console.error(e,r)},loading:e.loading})}},3377:(k,_,n)=>{n.d(_,{Kr:()=>l,LE:()=>m,iA:()=>c,lL:()=>b});var s=n(5861),d=n(2014),f=n(4459);const g=new d.K({name:"_userDB",driverOrder:[d.N.IndexedDB,d.N.LocalStorage]}),c=function(){var e=(0,s.Z)(function*(r){yield g.create();try{var i=(yield g.get("user-local"))||{};return"function"==typeof(null==r?void 0:r.callback)&&r.callback(Object.assign({},i||{})),i}catch(a){"function"==typeof(null==r?void 0:r.callback)&&r.callback(),console.error(a)}return{}});return function(i){return e.apply(this,arguments)}}(),l=function(){var e=(0,s.Z)(function*(r){yield g.create(),r.params=r.params||{};try{var i=Object.assign({},r.params);yield g.set("user-local",i),"function"==typeof r.callback&&r.callback(Object.assign({},i||{}))}catch(a){"function"==typeof r.callback&&r.callback(),console.error(a)}});return function(i){return e.apply(this,arguments)}}(),b=function(){var e=(0,s.Z)(function*(r){return r&&(r.params={}),l(null!=r?r:{})});return function(i){return e.apply(this,arguments)}}(),m=function(){var e=(0,s.Z)(function*(r,i){let a=yield(0,f.H0)();if(i){let U=[];r.params.profilephoto&&U.push(new Promise((v,O)=>{let p=new Image;p.onload=()=>{r.params.url_profilephoto=p.src,v(1)},p.onerror=()=>{r.params.url_profilephoto="assets/image/user-avatar-default.png",v(0)},p.src=a.readfileuploadurl+r.params.profilephoto})),r.params.banner&&U.push(new Promise((v,O)=>{let p=new Image;p.onload=()=>{r.params.url_banner=p.src,v(1)},p.onerror=()=>{r.params.url_banner="assets/image/user-banner-default.png",v(0)},p.src=a.readfileuploadurl+r.params.banner})),U.length>0?Promise.all(U).then(()=>{l(r)}):l(r)}else c({callback:U=>{if(U){let v=[];r.params.profilephoto&&v.push(new Promise((O,p)=>{let y=new Image;y.onload=()=>{r.params.url_profilephoto=y.src,O(1)},y.onerror=()=>{r.params.url_profilephoto="assets/image/user-avatar-default.png",O(0)},y.src=a.readfileuploadurl+r.params.profilephoto})),r.params.banner&&v.push(new Promise((O,p)=>{let y=new Image;y.onload=()=>{r.params.url_banner=y.src,O(1)},y.onerror=()=>{r.params.url_banner="assets/image/user-banner-default.png",O(0)},y.src=a.readfileuploadurl+r.params.banner})),v.length>0?Promise.all(v).then(()=>{l({params:Object.assign({},U,r.params),callback:r.callback})}):l({params:Object.assign({},U,r.params),callback:r.callback})}else"function"==typeof r.callback&&r.callback()}})});return function(i,a){return e.apply(this,arguments)}}()},9074:(k,_,n)=>{n.d(_,{V:()=>b});var s=n(6814),d=n(6223),f=n(3536),g=n(5470),c=n(2630),l=n(5879);let b=(()=>{var m;class C{}return(m=C).\u0275fac=function(e){return new(e||m)},m.\u0275mod=l.oAB({type:m}),m.\u0275inj=l.cJS({imports:[s.ez,d.u5,f.Pc,g.Z,c.L,g.Z,c.L]}),C})()},752:(k,_,n)=>{n.r(_),n.d(_,{UserSetPwdPageModule:()=>E});var s=n(6814),d=n(6223),f=n(3536),g=n(6916),c=n(5861),l=n(8662),b=n(7308),m=n(4459),C=n(5328),T=n(3377),e=n(2695),r=n(8186),i=n(553),a=n(5879),U=n(6593),v=n(3999);function O(u,M){if(1&u&&(a.TgZ(0,"option",17),a._uU(1),a.qZA()),2&u){const P=M.$implicit;a.Q6J("value",P.madonvi),a.xp6(1),a.Oqu(P.tendv)}}const p=function(){return{standalone:!0}};function y(u,M){if(1&u){const P=a.EpF();a.TgZ(0,"div",9)(1,"label"),a._uU(2),a.ALo(3,"translate"),a.TgZ(4,"span"),a._uU(5,"*"),a.qZA()(),a.TgZ(6,"select",15),a.NdJ("ngModelChange",function(o){a.CHM(P);const h=a.oxw();return a.KtG(h.changeDonVi(o))}),a.YNc(7,O,2,2,"option",16),a.qZA()()}if(2&u){const P=a.oxw();a.xp6(2),a.hij("",a.lcZ(3,4,"Unit")," "),a.xp6(4),a.Q6J("ngModel",P.dataForm.madonvi)("ngModelOptions",a.DdM(6,p)),a.xp6(1),a.Q6J("ngForOf",P.configs)}}const D=[{path:"",component:(()=>{var u;class M{constructor(t,o,h,w){this.router=t,this.activatedRoute=o,this.titleService=h,this.toastController=w,this.appsettings={},this.configs=[],this.dataForm={},this.inputPwdType="password",h.setTitle("\u0110\u1eb7t m\u1eadt kh\u1ea9u m\u1edbi")}ngOnInit(){var t=this;if(this.dataForm.emailaddr=this.activatedRoute.snapshot.queryParamMap.get("email")||"",this.dataForm.forgotpwdcode=this.activatedRoute.snapshot.queryParamMap.get("code")||"",!this.dataForm.emailaddr||!this.dataForm.forgotpwdcode)return this.backToHome();(0,c.Z)(function*(){(0,T.lL)({}),yield(0,m.rt)(),t.appsettings=yield(0,m.H0)(),t.dataForm.madonvi=t.appsettings.madonvi;let o=yield l.A.getId();t.dataForm.devicekey=null==o?void 0:o.identifier,t.configs=(yield(0,m.dV)())||[],t.configs&&t.configs.length?1==t.configs.length&&(t.dataForm.madonvi=t.configs[0].madonvi):t.dataForm.madonvi=i.N.default_donvi})()}backToHome(){window.location.replace(e.z.LANDING_PAGE)}changeDonVi(t){var o=this;return(0,c.Z)(function*(){o.dataForm.madonvi=t})()}changeNewPwd(t){this.dataForm.newpwd=t}changeNewPwd2(t){this.dataForm.newpwd2=t}keypressPwd(t){(t.keyCode||t.which||t.charCode||0)==b.s.Enter&&this.formSubmit(t)}formSubmit(t){var o=this;return(0,c.Z)(function*(){t.preventDefault(),o.dataForm.emailaddr&&o.dataForm.forgotpwdcode&&o.dataForm.newpwd&&o.dataForm.newpwd==o.dataForm.newpwd2&&(yield(0,m.TT)(o.dataForm.madonvi),(0,C.xK)({params:o.dataForm,callback:h=>{(0,r.B)(o.toastController,{},h).then(w=>w.present()),0==(null==h?void 0:h.returncode)&&setTimeout(()=>{window.location.replace(e.z.LANDING_PAGE+"?require=signin")},3e3)}}))})()}}return(u=M).\u0275fac=function(t){return new(t||u)(a.Y36(g.F0),a.Y36(g.gz),a.Y36(U.Dx),a.Y36(f.yF))},u.\u0275cmp=a.Xpm({type:u,selectors:[["app-user-set-pwd"]],decls:37,vars:25,consts:[["scroll-x","false","scroll-y","false"],["slot","fixed","vertical","top","horizontal","start"],["size","small",3,"click"],["name","arrow-back-outline"],[1,"container-main","overflow-auto","d-flex","w-100","h-100","align-items-center","justify-content-center"],[1,"container-form"],["src","../../../../assets/image/logo.svg","alt","Tabca"],[3,"submit"],["class","form-group",4,"ngIf"],[1,"form-group"],["type","email","name","emailaddr","minlength","{6}","maxlength","{32}","required","","autofocus","","placeholder","your-email@email.com","readonly","",1,"form-control",3,"ngModel"],["type","password","name","newpwd","minlength","{6}","maxlength","{32}","required","","placeholder","******",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],["type","password","name","newpwd2","minlength","{6}","maxlength","{32}","required","","placeholder","******",1,"form-control",3,"ngModel","ngModelOptions","keypress","ngModelChange"],[1,"form-group","mt-5"],["type","submit",1,"btn"],["interface","popover","justify","end",1,"custom-select",3,"ngModel","ngModelOptions","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(t,o){1&t&&(a.TgZ(0,"ion-content",0)(1,"ion-fab",1)(2,"ion-fab-button",2),a.NdJ("click",function(){return o.backToHome()}),a._UZ(3,"ion-icon",3),a.qZA()(),a.TgZ(4,"div",4)(5,"div",5),a._UZ(6,"img",6),a.TgZ(7,"h1"),a._uU(8),a.ALo(9,"translate"),a.qZA(),a.TgZ(10,"form",7),a.NdJ("submit",function(w){return o.formSubmit(w)}),a.YNc(11,y,8,7,"div",8),a.TgZ(12,"div",9)(13,"label"),a._uU(14),a.ALo(15,"translate"),a.TgZ(16,"span"),a._uU(17,"*"),a.qZA()(),a._UZ(18,"input",10),a.qZA(),a.TgZ(19,"div",9)(20,"label"),a._uU(21),a.ALo(22,"translate"),a.TgZ(23,"span"),a._uU(24,"*"),a.qZA()(),a.TgZ(25,"input",11),a.NdJ("ngModelChange",function(w){return o.changeNewPwd(w)}),a.qZA()(),a.TgZ(26,"div",9)(27,"label"),a._uU(28),a.ALo(29,"translate"),a.TgZ(30,"span"),a._uU(31,"*"),a.qZA()(),a.TgZ(32,"input",12),a.NdJ("keypress",function(w){return o.keypressPwd(w)})("ngModelChange",function(w){return o.changeNewPwd2(w)}),a.qZA()(),a.TgZ(33,"div",13)(34,"button",14),a._uU(35),a.ALo(36,"translate"),a.qZA()()()()()()),2&t&&(a.xp6(8),a.Oqu(a.lcZ(9,13,"UpdatePassword")),a.xp6(3),a.Q6J("ngIf",o.configs.length>1),a.xp6(3),a.hij("",a.lcZ(15,15,"Email")," "),a.xp6(4),a.Q6J("ngModel",o.dataForm.emailaddr),a.xp6(3),a.hij("",a.lcZ(22,17,"NewPassword")," "),a.xp6(4),a.Q6J("ngModel",o.dataForm.newpwd)("ngModelOptions",a.DdM(23,p)),a.xp6(3),a.hij("",a.lcZ(29,19,"ConfirmPassword")," "),a.xp6(4),a.Tol(o.dataForm.newpwd&&o.dataForm.newpwd2?o.dataForm.newpwd==o.dataForm.newpwd2?"is-valid":"is-invalid":""),a.Q6J("ngModel",o.dataForm.newpwd2)("ngModelOptions",a.DdM(24,p)),a.xp6(3),a.Oqu(a.lcZ(36,21,"SetNewPassword")))},dependencies:[s.sg,s.O5,d._Y,d.YN,d.Kr,d.Fj,d.EJ,d.JJ,d.JL,d.Q7,d.wO,d.nD,d.On,d.F,f.W2,f.IJ,f.W4,f.gu,v.X$],styles:[".container-main[_ngcontent-%COMP%]{padding:.5rem;background-image:url(bg-join-and-share.d53a3207da518edb.png);background-repeat:no-repeat;background-size:cover;background-position:center center}.container-form[_ngcontent-%COMP%]{width:420px;padding:2rem 2rem 1rem;margin:auto;border-radius:10px;background:#fff;box-shadow:0 0 20px #00000026}.container-form[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:60px}.container-form[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{margin:1rem 0 2rem;font-size:32px;font-weight:700;line-height:40px}.container-form[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]{color:#1f1f39;font-size:14px}.container-form[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{text-align:center}.container-form[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#858597}.container-form[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3243c7;cursor:pointer}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{margin-bottom:5px;color:#333}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#ff3131}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%] > select[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:100%;height:50px;border-radius:12px;border:.5px solid #B8B8D2;background-color:#e8f0fe;outline:none;box-shadow:none}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:100%;height:50px;border-radius:12px;color:#fff;background:#3243C7;background:linear-gradient(90deg,#6D42E7 4.11%,#EA5FC1 100%);border:0;outline:none;box-shadow:none}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .custom-control[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{vertical-align:sub}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3243c7;cursor:pointer}form[_ngcontent-%COMP%]   .for-got-pwd[_ngcontent-%COMP%]{margin-top:-.5rem;text-align:right}"]}),M})()}];let F=(()=>{var u;class M{}return(u=M).\u0275fac=function(t){return new(t||u)},u.\u0275mod=a.oAB({type:u}),u.\u0275inj=a.cJS({imports:[g.Bz.forChild(D),g.Bz]}),M})();var A=n(9074);let E=(()=>{var u;class M{}return(u=M).\u0275fac=function(t){return new(t||u)},u.\u0275mod=a.oAB({type:u}),u.\u0275inj=a.cJS({imports:[s.ez,d.u5,f.Pc,F,A.V]}),M})()},8186:(k,_,n)=>{n.d(_,{B:()=>d});var s=n(5861);const d=function(){var f=(0,s.Z)(function*(g,c,l){var b,m,C;l&&(c.message||(c.message=null!==(C=null==l?void 0:l.returnmsg)&&void 0!==C?C:0==(null==l?void 0:l.returncode)?"Th\xe0nh c\xf4ng!":null!=l&&l.returncode?`L\u1ed7i: #${null==l?void 0:l.returncode}`:"H\u1ec7 th\u1ed1ng kh\xf4ng c\xf3 ph\u1ea3n h\u1ed3i!"),c.icon||(c.icon=0==(null==l?void 0:l.returncode)?"checkmark-circle-sharp":null!=l&&l.returncode?"alert-circle-outline":"close-circle-sharp"),c.color||(c.color=0==(null==l?void 0:l.returncode)?"success":null!=l&&l.returncode?"warning":"danger"));return c.position||(c.position="bottom"),c.icon||(c.icon="bulb-outline"),c.color||(c.color="secondary"),c.duration=null!==(b=c.duration)&&void 0!==b?b:3e3,c.animated=null===(m=c.animated)||void 0===m||m,c.buttons=[{icon:"close-outline",side:"end",role:"cancel"}],yield g.create(c)});return function(c,l,b){return f.apply(this,arguments)}}()}}]);