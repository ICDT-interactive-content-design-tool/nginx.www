"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[715],{8662:(x,h,r)=>{r.d(h,{A:()=>u});const u=(0,r(2726).fo)("Device",{web:()=>r.e(7116).then(r.bind(r,7116)).then(f=>new f.DeviceWeb)})},5328:(x,h,r)=>{r.d(h,{Es:()=>l,e8:()=>g,f9:()=>f,no:()=>u,s2:()=>_,u7:()=>m,xK:()=>t});var s=r(4459);function u(a){a.params=a.params||{},(0,s.cd)({url:"api/User/Detail",params:{userid:a.params.userid||null},success:n=>{"function"==typeof a.callback&&a.callback(n.data||null)},error:n=>{"function"==typeof a.callback&&a.callback(null),console.error(n)},loading:a.loading})}function f(a){a.params=a.params||{},(0,s.T1)({url:"api/User/SignIn",params:{emailaddr:a.params.emailaddr||null,pwd:a.params.pwd||null},success:n=>{"function"==typeof a.callback&&a.callback(n.data||null)},error:n=>{"function"==typeof a.callback&&a.callback(null),console.error(a,n)},loading:a.loading})}function m(a){a.params=a.params||{},(0,s.T1)({url:"api/User/SignUp",params:{firstname:a.params.firstname||null,lastname:a.params.lastname||null,emailaddr:a.params.emailaddr||null,pwd:a.params.pwd||null},success:n=>{"function"==typeof a.callback&&a.callback(n.data||null)},error:n=>{"function"==typeof a.callback&&a.callback(null),console.error(a,n)},loading:a.loading})}function l(a){a.params=a.params||{},(0,s.T1)({url:"api/User/Active",params:{emailaddr:a.params.emailaddr||null,activationcode:a.params.activationcode||null},success:n=>{"function"==typeof a.callback&&a.callback(n.data||null)},error:n=>{"function"==typeof a.callback&&a.callback(null),console.error(a,n)},loading:a.loading})}function t(a){a.params=a.params||{},(0,s.T1)({url:"api/User/ChangePassword",params:{emailaddr:a.params.emailaddr||null,pwd:a.params.pwd||null,forgotpwdcode:a.params.forgotpwdcode||null,newpwd:a.params.newpwd||null},success:n=>{"function"==typeof a.callback&&a.callback(n.data||null)},error:n=>{"function"==typeof a.callback&&a.callback(null),console.error(a,n)},loading:a.loading})}function _(a){a.params=a.params||{},(0,s.T1)({url:"api/User/UpdateInfo",params:{userid:a.params.userid||null,firstname:a.params.firstname||null,lastname:a.params.lastname||null,emailaddr:a.params.emailaddr||null,mobilecountrycode:a.params.mobilecountrycode||null,mobile:a.params.mobile||null,introduce:a.params.introduce||null},success:n=>{"function"==typeof a.callback&&a.callback(n.data||null)},error:n=>{"function"==typeof a.callback&&a.callback(null),console.error(a,n)},loading:a.loading})}function g(a){a.params=a.params||{},(0,s.T1)({url:"api/users/forgotpassword",params:{emailaddr:a.params.emailaddr||null},success:n=>{if("function"==typeof a.callback){var e=n.data||{};e.returncode=null!=e.returncode?e.returncode:e.ReturnCode,e.returnmsg=null!=e.returnmsg?e.returnmsg:e.ReturnMsg,e.id=null!=e.id?e.id:e.AccountID,a.callback(e)}},error:n=>{"function"==typeof a.callback&&a.callback(null),console.error(a,n)},loading:a.loading})}},3377:(x,h,r)=>{r.d(h,{Kr:()=>t,LE:()=>g,iA:()=>l,lL:()=>_});var s=r(5861),u=r(2014),f=r(4459);const m=new u.K({name:"_userDB",driverOrder:[u.N.IndexedDB,u.N.LocalStorage]}),l=function(){var a=(0,s.Z)(function*(n){yield m.create();try{var e=(yield m.get("user-local"))||{};return"function"==typeof(null==n?void 0:n.callback)&&n.callback(Object.assign({},e||{})),e}catch(v){"function"==typeof(null==n?void 0:n.callback)&&n.callback(),console.error(v)}return{}});return function(e){return a.apply(this,arguments)}}(),t=function(){var a=(0,s.Z)(function*(n){yield m.create(),n.params=n.params||{};try{var e=Object.assign({},n.params);yield m.set("user-local",e),"function"==typeof n.callback&&n.callback(Object.assign({},e||{}))}catch(v){"function"==typeof n.callback&&n.callback(),console.error(v)}});return function(e){return a.apply(this,arguments)}}(),_=function(){var a=(0,s.Z)(function*(n){return n&&(n.params={}),t(null!=n?n:{})});return function(e){return a.apply(this,arguments)}}(),g=function(){var a=(0,s.Z)(function*(n,e){let v=yield(0,f.H0)();if(e){let C=[];n.params.profilephoto&&C.push(new Promise((P,A)=>{let b=new Image;b.onload=()=>{n.params.url_profilephoto=b.src,P(1)},b.onerror=()=>{n.params.url_profilephoto="assets/image/user-avatar-default.png",P(0)},b.src=v.readfileuploadurl+n.params.profilephoto})),n.params.banner&&C.push(new Promise((P,A)=>{let b=new Image;b.onload=()=>{n.params.url_banner=b.src,P(1)},b.onerror=()=>{n.params.url_banner="assets/image/user-banner-default.png",P(0)},b.src=v.readfileuploadurl+n.params.banner})),C.length>0?Promise.all(C).then(()=>{t(n)}):t(n)}else l({callback:C=>{if(C){let P=[];n.params.profilephoto&&P.push(new Promise((A,b)=>{let O=new Image;O.onload=()=>{n.params.url_profilephoto=O.src,A(1)},O.onerror=()=>{n.params.url_profilephoto="assets/image/user-avatar-default.png",A(0)},O.src=v.readfileuploadurl+n.params.profilephoto})),n.params.banner&&P.push(new Promise((A,b)=>{let O=new Image;O.onload=()=>{n.params.url_banner=O.src,A(1)},O.onerror=()=>{n.params.url_banner="assets/image/user-banner-default.png",A(0)},O.src=v.readfileuploadurl+n.params.banner})),P.length>0?Promise.all(P).then(()=>{t({params:Object.assign({},C,n.params),callback:n.callback})}):t({params:Object.assign({},C,n.params),callback:n.callback})}else"function"==typeof n.callback&&n.callback()}})});return function(e,v){return a.apply(this,arguments)}}()},9074:(x,h,r)=>{r.d(h,{V:()=>_});var s=r(6814),u=r(6223),f=r(3536),m=r(5470),l=r(2630),t=r(5879);let _=(()=>{var g;class U{}return(g=U).\u0275fac=function(a){return new(a||g)},g.\u0275mod=t.oAB({type:g}),g.\u0275inj=t.cJS({imports:[s.ez,u.u5,f.Pc,m.Z,l.L,m.Z,l.L]}),U})()},715:(x,h,r)=>{r.r(h),r.d(h,{UserActivePageModule:()=>I});var s=r(6814),u=r(6223),f=r(3536),m=r(6916),l=r(5861),t=r(8662),_=r(4459),g=r(5328),U=r(3377),y=r(2695),a=r(8186),n=r(553),e=r(5879),v=r(6593),C=r(3999);function P(c,p){if(1&c){const i=e.EpF();e.ynx(0),e.TgZ(1,"h4"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"p",8)(5,"span"),e._uU(6),e.ALo(7,"translate"),e.qZA(),e._UZ(8,"br"),e.TgZ(9,"span"),e._uU(10),e.ALo(11,"translate"),e.TgZ(12,"a")(13,"b"),e._uU(14),e.qZA()(),e.TgZ(15,"span",9),e._uU(16),e.ALo(17,"translate"),e.qZA()(),e._UZ(18,"br"),e.TgZ(19,"span"),e._uU(20),e.ALo(21,"translate"),e.qZA()(),e.TgZ(22,"p",10)(23,"button",11),e.NdJ("click",function(){e.CHM(i);const d=e.oxw();return e.KtG(d.goToSignIn())}),e._uU(24),e.ALo(25,"translate"),e.qZA()(),e.BQk()}if(2&c){const i=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,7,"AccountActivationSuccessful")),e.xp6(4),e.hij("",e.lcZ(7,9,"WelcomeTo")," Tabca,"),e.xp6(4),e.hij("",e.lcZ(11,11,"Account")," "),e.xp6(4),e.Oqu(i.dataForm.emailaddr),e.xp6(2),e.Oqu(e.lcZ(17,13,"AlreadyActivated")),e.xp6(4),e.Oqu(e.lcZ(21,15,"LogInNowToExperienceTheProduct")),e.xp6(4),e.Oqu(e.lcZ(25,17,"LogIn"))}}function A(c,p){if(1&c&&(e.TgZ(0,"option",21),e._uU(1),e.qZA()),2&c){const i=p.$implicit;e.Q6J("value",i.madonvi),e.xp6(1),e.Oqu(i.tendv)}}const b=function(){return{standalone:!0}};function O(c,p){if(1&c){const i=e.EpF();e.TgZ(0,"div",14)(1,"label"),e._uU(2),e.ALo(3,"translate"),e.TgZ(4,"span"),e._uU(5,"*"),e.qZA()(),e.TgZ(6,"select",19),e.NdJ("ngModelChange",function(d){e.CHM(i);const M=e.oxw(2);return e.KtG(M.changeDonVi(d))}),e.YNc(7,A,2,2,"option",20),e.qZA()()}if(2&c){const i=e.oxw(2);e.xp6(2),e.hij("",e.lcZ(3,4,"Unit")," "),e.xp6(4),e.Q6J("ngModel",i.dataForm.madonvi)("ngModelOptions",e.DdM(6,b)),e.xp6(1),e.Q6J("ngForOf",i.configs)}}function k(c,p){if(1&c&&(e.TgZ(0,"p",22)(1,"span"),e._uU(2),e.qZA()()),2&c){const i=e.oxw(2);e.xp6(2),e.Oqu(i.dataRes.returnmsg)}}function Z(c,p){if(1&c){const i=e.EpF();e.ynx(0),e.TgZ(1,"h1"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"form",12),e.NdJ("submit",function(d){e.CHM(i);const M=e.oxw();return e.KtG(M.formSubmit(d))}),e.YNc(5,O,8,7,"div",13),e.TgZ(6,"div",14)(7,"label"),e._uU(8),e.ALo(9,"translate"),e.TgZ(10,"span"),e._uU(11,"*"),e.qZA()(),e._UZ(12,"input",15),e.qZA(),e.TgZ(13,"div",16)(14,"button",17),e._uU(15),e.ALo(16,"translate"),e.qZA()()(),e.YNc(17,k,3,1,"p",18),e.BQk()}if(2&c){const i=e.oxw();e.xp6(2),e.Oqu(e.lcZ(3,6,"ActiveAccount")),e.xp6(3),e.Q6J("ngIf",i.configs.length>1),e.xp6(3),e.hij("",e.lcZ(9,8,"Email")," "),e.xp6(4),e.Q6J("ngModel",i.dataForm.emailaddr),e.xp6(3),e.Oqu(e.lcZ(16,10,"Confirm")),e.xp6(2),e.Q6J("ngIf",i.dataRes)}}const D=[{path:"",component:(()=>{var c;class p{constructor(o,d,M,T){this.router=o,this.activatedRoute=d,this.titleService=M,this.toastController=T,this.appsettings={},this.configs=[],this.dataForm={},M.setTitle("K\xedch ho\u1ea1t t\xe0i kho\u1ea3n")}ngOnInit(){var o=this;if(this.dataForm.emailaddr=this.activatedRoute.snapshot.queryParamMap.get("email")||"",this.dataForm.activationcode=this.activatedRoute.snapshot.queryParamMap.get("code")||"",!this.dataForm.emailaddr||!this.dataForm.activationcode)return this.backToHome();(0,l.Z)(function*(){(0,U.lL)({}),yield(0,_.rt)(),o.appsettings=yield(0,_.H0)(),o.dataForm.madonvi=o.appsettings.madonvi;let d=yield t.A.getId();o.dataForm.devicekey=null==d?void 0:d.identifier,o.configs=(yield(0,_.dV)())||[],o.configs&&o.configs.length?1==o.configs.length&&(o.dataForm.madonvi=o.configs[0].madonvi):o.dataForm.madonvi=n.N.default_donvi,o.dataForm.madonvi&&o.formSubmit()})()}backToHome(){window.location.replace(y.z.LANDING_PAGE)}goToSignIn(){window.location.replace(y.z.LANDING_PAGE+"?require=signin")}changeDonVi(o){var d=this;return(0,l.Z)(function*(){d.dataForm.madonvi=o})()}formSubmit(o){var d=this;return(0,l.Z)(function*(){null==o||o.preventDefault(),d.dataForm.emailaddr&&d.dataForm.activationcode&&(yield(0,_.TT)(d.dataForm.madonvi),(0,g.Es)({params:d.dataForm,callback:M=>{(0,a.B)(d.toastController,{},M).then(T=>{T.onDidDismiss().then(w=>{0==(null==M?void 0:M.returncode)&&window.location.replace(y.z.LANDING_PAGE+"?require=signin")}),T.present()})}}))})()}}return(c=p).\u0275fac=function(o){return new(o||c)(e.Y36(m.F0),e.Y36(m.gz),e.Y36(v.Dx),e.Y36(f.yF))},c.\u0275cmp=e.Xpm({type:c,selectors:[["app-user-active"]],decls:9,vars:2,consts:[["scroll-x","false","scroll-y","false"],["slot","fixed","vertical","top","horizontal","start"],["size","small",3,"click"],["name","arrow-back-outline"],[1,"container-main","overflow-auto","d-flex","w-100","h-100","align-items-center","justify-content-center"],[1,"container-form"],["src","../../../../assets/image/logo.svg","alt","Tabca"],[4,"ngIf"],[1,"text-left"],[1,"text-lowercase"],[1,"mt-4","mb-3"],["type","button",1,"btn","btn-sign-in",3,"click"],[3,"submit"],["class","form-group",4,"ngIf"],[1,"form-group"],["type","email","name","emailaddr","minlength","{6}","maxlength","{32}","required","","autofocus","","placeholder","your-email@email.com","readonly","",1,"form-control",3,"ngModel"],[1,"form-group","mt-5"],["type","submit",1,"btn"],["class","text-danger",4,"ngIf"],["interface","popover","justify","end",1,"custom-select",3,"ngModel","ngModelOptions","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"text-danger"]],template:function(o,d){1&o&&(e.TgZ(0,"ion-content",0)(1,"ion-fab",1)(2,"ion-fab-button",2),e.NdJ("click",function(){return d.backToHome()}),e._UZ(3,"ion-icon",3),e.qZA()(),e.TgZ(4,"div",4)(5,"div",5),e._UZ(6,"img",6),e.YNc(7,P,26,19,"ng-container",7),e.YNc(8,Z,18,12,"ng-container",7),e.qZA()()()),2&o&&(e.xp6(7),e.Q6J("ngIf",0==(null==d.dataRes?null:d.dataRes.returncode)),e.xp6(1),e.Q6J("ngIf",0!=(null==d.dataRes?null:d.dataRes.returncode)))},dependencies:[s.sg,s.O5,u._Y,u.YN,u.Kr,u.Fj,u.EJ,u.JJ,u.JL,u.Q7,u.wO,u.nD,u.On,u.F,f.W2,f.IJ,f.W4,f.gu,C.X$],styles:[".container-main[_ngcontent-%COMP%]{padding:.5rem;background-image:url(bg-join-and-share.d53a3207da518edb.png);background-repeat:no-repeat;background-size:cover;background-position:center center}.container-form[_ngcontent-%COMP%]{width:420px;padding:2rem 2rem 1rem;margin:auto;border-radius:10px;background:#fff;box-shadow:0 0 20px #00000026}.container-form[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:60px}.container-form[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{margin:1rem 0 2rem;font-size:32px;font-weight:700;line-height:40px}.container-form[_ngcontent-%COMP%] > h4[_ngcontent-%COMP%]{margin:1rem 0 .5rem;font-size:20px;font-weight:500;line-height:26px}.container-form[_ngcontent-%COMP%] > form[_ngcontent-%COMP%]{color:#1f1f39;font-size:14px}.container-form[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{text-align:center}.container-form[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#858597}.container-form[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3243c7;cursor:pointer}.container-form[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]   button.btn-sign-in[_ngcontent-%COMP%]{width:100%;height:50px;border-radius:12px;color:#fff;background:#3243C7;background:linear-gradient(90deg,#6D42E7 4.11%,#EA5FC1 100%);border:0;outline:none;box-shadow:none}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{margin-bottom:5px;color:#333}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#ff3131}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%] > select[_ngcontent-%COMP%], form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{width:100%;height:50px;border-radius:12px;border:.5px solid #B8B8D2;background-color:#e8f0fe;outline:none;box-shadow:none}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:100%;height:50px;border-radius:12px;color:#fff;background:#3243C7;background:linear-gradient(90deg,#6D42E7 4.11%,#EA5FC1 100%);border:0;outline:none;box-shadow:none}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .custom-control[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{vertical-align:sub}form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3243c7;cursor:pointer}form[_ngcontent-%COMP%]   .for-got-pwd[_ngcontent-%COMP%]{margin-top:-.5rem;text-align:right}"]}),p})()}];let E=(()=>{var c;class p{}return(c=p).\u0275fac=function(o){return new(o||c)},c.\u0275mod=e.oAB({type:c}),c.\u0275inj=e.cJS({imports:[m.Bz.forChild(D),m.Bz]}),p})();var L=r(9074);let I=(()=>{var c;class p{}return(c=p).\u0275fac=function(o){return new(o||c)},c.\u0275mod=e.oAB({type:c}),c.\u0275inj=e.cJS({imports:[s.ez,u.u5,f.Pc,E,L.V]}),p})()},8186:(x,h,r)=>{r.d(h,{B:()=>u});var s=r(5861);const u=function(){var f=(0,s.Z)(function*(m,l,t){var _,g,U;t&&(l.message||(l.message=null!==(U=null==t?void 0:t.returnmsg)&&void 0!==U?U:0==(null==t?void 0:t.returncode)?"Th\xe0nh c\xf4ng!":null!=t&&t.returncode?`L\u1ed7i: #${null==t?void 0:t.returncode}`:"H\u1ec7 th\u1ed1ng kh\xf4ng c\xf3 ph\u1ea3n h\u1ed3i!"),l.icon||(l.icon=0==(null==t?void 0:t.returncode)?"checkmark-circle-sharp":null!=t&&t.returncode?"alert-circle-outline":"close-circle-sharp"),l.color||(l.color=0==(null==t?void 0:t.returncode)?"success":null!=t&&t.returncode?"warning":"danger"));return l.position||(l.position="bottom"),l.icon||(l.icon="bulb-outline"),l.color||(l.color="secondary"),l.duration=null!==(_=l.duration)&&void 0!==_?_:3e3,l.animated=null===(g=l.animated)||void 0===g||g,l.buttons=[{icon:"close-outline",side:"end",role:"cancel"}],yield m.create(l)});return function(l,t,_){return f.apply(this,arguments)}}()}}]);